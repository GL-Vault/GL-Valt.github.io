<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; --title-bar-height:20px; }
.mac-os-11 { --title-bar-height:28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
thead, tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
svg { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; padding-bottom: 0px !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.reversefootnote { font-family: ui-monospace, sans-serif; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex:2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    pre {
        page-break-inside: avoid;
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}



mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
  min-height: 1px;
  min-width: 1px;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-assistive-mml {
  position: absolute !important;
  top: 0px;
  left: 0px;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 1px 0px 0px 0px !important;
  border: 0px !important;
  display: block !important;
  width: auto !important;
  overflow: hidden !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

mjx-assistive-mml[display="block"] {
  width: 100% !important;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][display="true"][width="full"] {
  display: flex;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line], svg[data-table] > g > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame], svg[data-table] > g > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed, svg[data-table] > g > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted, svg[data-table] > g > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > g > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c] {
  stroke-width: 3;
}

g[data-mml-node="xypic2"] path {
  stroke-width: inherit;
}

.MathJax g[data-mml-node="xypic2"] path {
  stroke-width: inherit;
}
mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c] {
							stroke-width: 0;
						}
</style><title>计算机网络笔记王道版</title>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><p><span>#计算机网络</span></p><h2 id='一概述'><span>一、概述</span></h2><hr /><h3 id='11-概念'><span>1.1 概念</span></h3><blockquote><p><span>含义 </span></p></blockquote><p><span style="background:rgba(5, 117, 197, 0.2)"><span>计算机网络</span></span><span>：是一个</span><strong><span>将分散的，具有独立功能</span></strong><span>的计算机系统，通过</span><strong><span>通信设备和线路</span></strong><span>连接起来，由功能完善的</span><strong><span>软件</span></strong><span>实现</span><strong><span>资源共享和信息传递</span></strong><span>的系统。</span></p><p><span>简单点说，计算机网络是</span><strong><span>互联的，自治的</span></strong><span>计算机集合。</span>
<img src="https://pic2.imgdb.cn/item/63edb3a6f144a01007ae121d" alt="100" style="zoom:50%;" /></p><blockquote><p><span>功能 </span></p></blockquote><ol start='' ><li><span style="background:rgba(5, 117, 197, 0.2)"><span> 数据通信（连通性）</span></span><span> </span><br/><span>数据通信是计算机网络最基本和最重要的功能，实现联网计算机之间的各种信息传输，并将分散在不同地理位置的计算机联系起来，进行统一的调配、控制和管理  </span></li><li><span style="background:rgba(5, 117, 197, 0.2)"><span>资源共享  </span></span><span></span><br/><span>资源共享可以是</span><strong><span>软件共享、数据共享和硬件共享</span></strong><span>  </span><br/><span>计算机网络中的资源互通有无，分工协作，从而极大地提高硬件资源、软件资源和数据资源的利用率  </span></li><li><span style="background:rgba(5, 117, 197, 0.2)"><span>分布式处理</span></span><span></span><br/><span>当计算机网络中的某个计算机系统负荷过重时，可以将其处理的某个复杂任务分配给网络中的其它计算机系统，让它帮你处理，从而利用空闲计算机资源以提高整个系统的利用率  </span></li><li><span style="background:rgba(5, 117, 197, 0.2)"><span>提高可靠性</span></span><span></span><br/><span>计算机网络中的各台计算机可以通过网络互为替代机，当一台计算机崩了，可以让另一台计算机来完成它的工作  </span></li><li><span style="background:rgba(5, 117, 197, 0.2)"><span>负载均衡</span></span><span></span><br/><span>将工作任务均衡的分配给计算机网络中的各台计算机   </span></li></ol><blockquote><p><span>组成  </span></p></blockquote><ul><li><p><span style="background:rgba(5, 117, 197, 0.2)"><span>组成部分</span></span><span>：一个完整的计算机网络主要由</span><span style="background:#fff88f"><span>硬件、软件和协议</span></span><span>三大部分组成，缺一不可。</span><br/><strong><span>硬件</span></strong><span>主要由主机(也称端系统)，通信链路(如双绞线、光纤)、交换设备(如路由、交换机等)和通信处理机(如网卡)等组成。  </span></p><p><strong><span>软件</span></strong><span>主要包括各种实现资源共享的软件和方便用户使用的各种工具软件(如网络操作系统、邮件收发程序、FTP程序、聊天程序等)。  </span></p><p><strong><span>协议</span></strong><span>是计算机网络的核心，协议规定了网络传输数据时所遵循的规范。就如同我们现实生活中的法律一样，网络世界也必须遵循一定的规则。  </span></p></li><li><p><span style="background:rgba(5, 117, 197, 0.2)"><span>工作方式</span></span><span>：分为 </span><code>边缘部分和核心部分</code><span>。</span><br/><span> </span><strong><span>边缘部分</span></strong><span> 用户直接使用（C/S 方式——服务端客户端方式，P2P 方式——PeertoPeer，不太理解）  </span></p><p><span> </span><strong><span>核心部分</span></strong><span> 为边缘部分服务   </span></p></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb3b2f144a01007ae2451" style="zoom:50%;" /></p><ul><li><p><span style="background:rgba(5, 117, 197, 0.2)"><span>功能组成</span></span><span>：由 </span><span style="background:#fff88f"><span>通信子网和资源子网</span></span><span> 组成 </span><br/><span> </span><strong><span>通信子网</span></strong><span> 实现数据通信   </span></p><p><span> </span><strong><span>资源子网</span></strong><span> 实现资源共享 / 数据处理  </span></p></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb3c1f144a01007ae3bc4" style="zoom: 67%;" /></p><blockquote><p><span>分类  </span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb3c8f144a01007ae4628" style="zoom:50%;" /></p><h3 id='12-性能指标'><span>1.2 性能指标</span></h3><blockquote><p><span>速率  </span></p></blockquote><p><span>速率即数据率或称数据传输率或比特率（bit）。即指</span><u><span>主机在数字信道上传送数据的速度</span></u><span>。</span></p><ul><li><span>一般位简写为小写字母 “b”，字节简写为大写字母 “B”。</span></li><li><span>速率单位是b/s，kb/s，Mb/s，Gb/s，Tb/s。</span></li></ul><p><strong><span>注意</span></strong><span></span><br/><img src="https://pic2.imgdb.cn/item/63edb3dcf144a01007ae66e9" referrerpolicy="no-referrer"></p><blockquote><p><span>带宽</span></p></blockquote><p><span>计算机网络中，</span><u><span>带宽用来表示网络的通信线路传送数据的能力</span></u><span>，指</span><span style="background:#fff88f"><span>数字信道所能传送的 “最高数据率”</span></span><span>。单位是 “比特每秒”，b/s，kb/s，Mb/s，Gb/s。</span></p><p><span>以豌豆射手举例，假设 1b/s 是指每秒发出一个炮弹，那 2b/s 就是每秒发出两个炮弹，但是炮弹飞行的速度是不变的。</span></p><blockquote><p><span>吞吐量</span></p></blockquote><p><span>表示</span><u><span> 在单位时间内，通过某个网络（或信道、接口）的数据量</span></u><span>。单位 b/s，kb/s，Mb/s 等。  </span></p><p><u><span>吞吐量受网络的带宽或网络的额定速率的限制，吞吐量是所有链路速率的加和。</span></u><span>  </span></p><p><strong><span>总结</span></strong><span>： </span><br/><span>速率：表示实际的传输速率，其最高传输速率为带宽</span><br/><span>吞吐量：表示某个信道接口实际总的传输速率</span></p><blockquote><p><span>时延 </span>⭐️</p></blockquote><p><span>指数据（报文 / 分组 / 比特流）从网络（或链路）的</span><u><span>一端传送到另一端所需的时间</span></u><span>。也叫延迟或迟延。单位是 s。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb3e5f144a01007ae7602" referrerpolicy="no-referrer"></p><p><span style="background:#fff88f"><span>总时延=以上四种时延总和</span></span><span>    </span></p><p><span>排队时延和处理时延类似于火车站排队进站时的场景，排队时间就是排队时延，安检时间就是处理时间。  </span></p><p><span style="background:#d2cbff"><span>例题</span></span><span>：</span>
<img src="https://pic2.imgdb.cn/item/63ce9979588a5d166c9271ea.png" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63ce99ca588a5d166c933587.png" referrerpolicy="no-referrer"></p><blockquote><p><span>时延带宽积</span></p></blockquote><p><span style="background:#fff88f"><span>时延带宽积 = 传播时延 X 带宽</span></span><span></span><br/><span>（传播时延 就是该信道上电磁波传播花费的时间）  </span></p><p><span>时延带宽积又称为以比特为单位的链路长度。即 “</span><strong><span>某段链路现在有多少比特</span></strong><span>”。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb3f7f144a01007ae9293" referrerpolicy="no-referrer"></p><blockquote><p><span>往返时延 RTT</span></p></blockquote><p><span>从发送方发送数据开始，到发送方收到接收方的确认（接收方收到数据后立即发送确认），总共经历的时延。</span></p><p><span>RTT = </span><u><span>往返传播时延（传播时延 * 2）</span></u><span>+ 末端处理时延（基本忽略不计）</span></p><blockquote><p><span>利用率</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb401f144a01007aea25a" referrerpolicy="no-referrer"></p><p><strong><span>总结</span></strong><span>：</span><br/><span>时延：发送时延+传播时延+排队时延+处理时延</span><br/><span>时延带宽积：传播时延</span><span>*</span><span>带宽</span><br/><span>往返时间RTT：传播时延</span><span>*</span><span>2+(末端处理时延可忽略不计)</span><br/><span>利用率：分为</span><span style="background:#fff88f"><span>信道利用率（重点）</span></span><span>和网络利用率  </span></p><h3 id='13-分层结构'><span>1.3 分层结构</span></h3><p><img src="https://pic2.imgdb.cn/item/63edb406f144a01007aea96c" referrerpolicy="no-referrer">
<img src="https://pic2.imgdb.cn/item/63edb40af144a01007aeb130" referrerpolicy="no-referrer"></p><blockquote><p><span>分层的基本原则</span></p></blockquote><ol start='' ><li><span>各层之间相互独立，每层只实现一种相对独立的功能。</span></li><li><span>每层之间界面自然清晰，易于理解，相互交流尽可能少。</span></li><li><span>结构上可分割开。每层都采用最合适的技术来实现。</span></li><li><span>保持下层对上层的独立性，上层单向使用下层提供的服务（下层为上层提供服务）。</span></li><li><span>整个分层结构应该能促进标准化工作。</span></li></ol><blockquote><p><span>分层结构中的概念  </span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63e338694757feff33dfea83.jpg" referrerpolicy="no-referrer"></p><ol start='' ><li><p><span>实体: 第 n 层中的活动元素称为 n 层实体。</span><span style="background:#fff88f"><span>同一层的实体叫对等实体</span></span><span>。</span></p></li><li><p><span>协议: 为进行网络中的</span><span style="background:#fff88f"><span>对等实体</span></span><span>数据交换而建立的规则、标准或约定称为网络协议。【水平】（相对于对等实体）</span></p><ul><li><span>语法: 规定传输数据的格式</span></li><li><span>语义: 规定所要完成的功能</span></li><li><span>同步: 规定各种操作的顺序</span></li></ul></li><li><p><span>接口（访问服务点 SAP) : 上层使用下层服务的入口。</span></p></li><li><p><span>服务: 下层为相邻上层提供的功能调用。【垂直】</span></p></li></ol><p><span style="background:#fff88f"><span>上一层的 PDU 变成下一层的 SDU</span></span><span>。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb416f144a01007aec611" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63cd63e6be43e0d30e708144.jpg" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63cd63febe43e0d30e70a8ee.jpg" referrerpolicy="no-referrer"></p><p><strong><span>总结</span></strong><span>：</span><br/><img src="https://pic2.imgdb.cn/item/63edb421f144a01007aeda12" referrerpolicy="no-referrer"></p><h3 id='14-osi-参考模型'><span>1.4 OSI 参考模型</span></h3><p><img src="https://pic2.imgdb.cn/item/63edb426f144a01007aee2cb" referrerpolicy="no-referrer"></p><ul><li><span>五层参考模型是为了方便学习而划分出来的，实际上并没有这个模型。  </span></li><li><span>使用 OSI 模型时的通信过程</span><br/><span>上面四层是相对于起点和终点之间，</span><u><span>端对端的协议</span></u><span></span><br/><span>下面三层是各设备之间的通信，</span><u><span>点对点之间</span></u><span>(通常是一些路由器、交换机等)  </span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb42bf144a01007aeeae5" referrerpolicy="no-referrer">
<img src="https://pic2.imgdb.cn/item/63edb430f144a01007aef359" referrerpolicy="no-referrer"><span>  </span></p><blockquote><p><span>接下来会介绍一下各个层的作用：  </span></p></blockquote><p><span style="background:rgba(5, 117, 197, 0.2)"><span>1.  应用层 </span></span><span> </span></p><p><span>所有</span><u><span>能和用户交互产生网络流量的程序</span></u><span>。如 QQ，浏览器等</span><br/><span>典型的应用层服务：  </span></p><ul><li><span>文件传输（FTP）  </span></li><li><span>电子邮件（SMTP）  </span></li><li><span>万维网（HTTP）  </span></li></ul><p><span style="background:rgba(5, 117, 197, 0.2)"><span>2.  表示层  </span></span></p><p><span>用于处理在</span><u><span>两个通信系统</span></u><span>中交换信息的表示方式（语法和语义）</span><br/><span>功能：    </span></p><ul><li><span>数据格式变换（翻译官）  </span></li><li><span>数据加密解密  </span></li><li><span>数据压缩和恢复  </span></li></ul><p><span style="background:rgba(5, 117, 197, 0.2)"><span>3.  会话层</span></span><span>  </span></p><p><span>向表示层</span><u><span>实体 / 用户进程</span></u><span> </span><mark><span>提供建立连接</span></mark><span> </span><span style="background:#fff88f"><span>并在连接上有序地传输数据</span></span><span>。</span><br/><span>这是会话，也是建立同步 (SYN)。</span><br/><span>功能：   </span></p><ul><li><span>建立、管理、终止会话</span></li><li><strong><span>使用校验点可使会话在通信失效时从校验点 / 同步点继续恢复通信，实现数据同步。适用于传输大文件。</span></strong></li></ul><p><span style="background:rgba(5, 117, 197, 0.2)"><span>4.  传输层</span></span><span>  </span></p><p><span>负责主机中</span><u><span>两个进程</span></u><span>的通信，即</span><span style="background:#fff88f"><span>端到端的通信</span></span><span>。传输单位是报文段或用户数据报。 </span><br/><span>功能：  </span></p><ul><li><p><span>可靠传输，不可靠传输（一般用于小文件）</span></p></li><li><p><span>差错控制（用来处理传输过程中出现的错误）</span></p></li><li><p><span>流量控制（当两台主机处理数据的速度不匹配时，会对速度过快的主机进行控制）</span></p></li><li><p><span>复用分用</span></p><ul><li><span>复用: 多个应用层进程可同时使用下面运输层的服务。</span></li><li><span>分用: 运输层把收到的信息分别交付给上面应用层中相应的进程。</span></li></ul></li></ul><p><span style="background:rgba(5, 117, 197, 0.2)"><span>5.  网络层  </span></span></p><p><span>主要任务是把</span><strong><span>分组</span></strong><span>从源端传到目的端，为分组交换网上的不同主机提供通信服务。</span><br/><u><span>网络层传输单位是数据报。把数据报进行切割后，就是分组。</span></u><span></span><br/><span>功能：  </span></p><ul><li><span>路由选择（选择最合适的路由来传递数据）</span></li><li><span>流量控制</span></li><li><span>差错控制</span></li><li><span>拥塞控制（若所有结点都来不及接受分组，而要丢弃大量分组的话，网络就处于拥塞状态。因此要采取一定撒施，缓解这种拥塞。）</span></li></ul><p><span style="background:rgba(5, 117, 197, 0.2)"><span>6.  数据链路层  </span></span></p><p><span>主要任务是</span><span style="background:#fff88f"><span>把网络层传下来的数据报组装成帧</span></span><span>。</span><br/><span>数据链路层 / 链路层的传输单位是帧。</span><br/><span>功能:  </span></p><ul><li><span>成帧（定义帧的开始和结束）</span></li><li><span>差错控制 </span><font color="#e36c09"><span>帧错+位错</span></font></li><li><span>流量控制</span></li><li><span>访问（接入）控制（</span><font color="#e36c09"><span>控制对信道的访问</span></font><span>）</span></li></ul><p><span style="background:rgba(5, 117, 197, 0.2)"><span>7.  物理层  </span></span></p><p><span>主要任务是</span><span style="background:#fff88f"><span>在物理媒体上实现比特流的透明传输</span></span><span>。</span><br/><span>物理层</span><u><span>传输单位是比特</span></u><span>。</span><br/><span>透明传输: 指不管所传数据是什么样的比特组合, 都应当能够在链路上传送。</span><br/><span>功能：  </span></p><ul><li><p><span>定义接口特性</span></p></li><li><p><span>定义传输模式</span></p><ul><li><span>单工 接受方和发送方已经确定，不能更改</span></li><li><span>半双工 介于两者之间。同一时间段内，只能有一个接受方或发送方，但是身份可以调换。</span></li><li><span>双工 可以同时当做接收方和发送方，类似于打电话</span></li></ul></li><li><p><span>定义传输速率</span></p></li><li><p><span>比特同步</span></p></li><li><p><span>比特编码</span></p></li></ul><h3 id='15-tcpip-模型'><span>1.5 TCP/IP 模型</span></h3><p><img src="https://pic2.imgdb.cn/item/63edb43bf144a01007af0126" referrerpolicy="no-referrer"></p><p><img src="https://s2.loli.net/2023/04/13/Jc3KBvNOHkL46Uu.png" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63cd5c81be43e0d30e60e24a.jpg" referrerpolicy="no-referrer"></p><h3 id='16-osi参考模型与tcpip参考模型'><span>1.6 OSI参考模型与TCP/IP参考模型</span></h3><ol start='' ><li><p><span style="background:#d2cbff"><span>相同点</span></span><span>  </span></p><ul><li><span>都分层  </span></li><li><span>基于独立的协议栈的概念  </span></li><li><span>可以实现异构网络互联  </span></li></ul></li><li><p><span style="background:#d2cbff"><span>不同点</span></span><span>  </span></p><ul><li><span>OSI定义三点：服务、协议、接口  </span></li><li><span>OSI先出现，参考模型先于协议发明，不偏向特定协议  </span></li><li><span>TCP/IP设计之初就考虑到异构网互联问题，将IP作为重要层次  </span></li><li><img src="https://pic2.imgdb.cn/item/63edb442f144a01007af0b6c" referrerpolicy="no-referrer"><span></span><br/><span>面向连接分为三个阶段，第一是建立连接，在此阶段，发出一个建立连接的请求。只有在连接成功建立之后，才能开始数据传输，这是第二阶段。接着，当数据传输完毕，必须释放连接。而面向无连接没有这么多阶段，它直接进行数据传输。</span></li></ul></li></ol><h3 id='17-5层参考模型'><span>1.7 5层参考模型</span></h3><p><img src="https://pic2.imgdb.cn/item/63edb447f144a01007af123e" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63cd5f8cbe43e0d30e676989.jpg" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63ce462f588a5d166ceb227d.jpg" referrerpolicy="no-referrer"></p><p><mark><span>重点</span></mark><span>：</span><u><span>计算机网络的体系结构就是计算机网络及其构件所应完成的功能的精确定义</span></u><span>。  </span></p><p><span style="background:#fff88f"><span>需要强调的是</span></span><span>：</span><u><span>这些功能的实现细节（例如采用何种硬件或软件），则是遵守这种体系结构的具体实现问题，并不属于体系结构本身所描述的内容 </span></u><span>。  </span></p><p><span style="background:#fff88f"><span>5层参考模型的数据封装与解封装：</span></span><span>   </span></p><p><img src="https://pic2.imgdb.cn/item/63edb450f144a01007af1e3d" referrerpolicy="no-referrer"></p><h2 id='二-物理层'><span>二、 物理层</span></h2><hr /><h3 id='21-物理层概念'><span>2.1 物理层概念</span></h3><p><span>物理层，解决如何在连接各种计算机的传输媒体上</span><span style="background:#fff88f"><span>传输数据比特流</span></span><span>，而不是指具体的传输媒体。</span></p><p><span>物理层主要任务 : </span><span style="background:#fff88f"><span>确定与传输媒体接口有关的一些特性（即定义标准）</span></span></p><blockquote><p><span>物理层的几个特性</span></p></blockquote><ul><li><span style="background:#fff88f"><span>机械特性</span></span><span>：定义物理连接的特性，规定物理连接时所采用的</span><strong><span>规格、接口形状、引线数目、引脚数量</span></strong><span>和排列情况。  </span></li><li><span style="background:#fff88f"><span>电气特性</span></span><span>：规定传输二进制位时，线路上信号的</span><strong><span>电压范围、阻抗匹配、传输速率和距离限制等</span></strong><span>。  </span></li><li><span style="background:#fff88f"><span>功能特性</span></span><span>：指明某条线上出现的某一</span><strong><span>电平表示何种意义</span></strong><span>，接口部件的信号线的用途。（描述高低电平的含义）  </span></li><li><span style="background:#fff88f"><span>规程特性 (过程特性）</span></span><span>：定义各条物理线路的</span><strong><span>工作规程和时序关系</span></strong><span>。  </span></li></ul><h3 id='22-数据通信基础知识'><span>2.2 数据通信基础知识</span></h3><blockquote><p><span>数据通信模型</span></p></blockquote><ul><li><span>调制解调器就是路由器</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb456f144a01007af25ee" referrerpolicy="no-referrer"></p><blockquote><p><span>相关术语</span></p></blockquote><ul><li><span style="background:#fff88f"><span>通信</span></span><span>的目的是</span><u><span>传送消息</span></u><span>（消息: 语音、文字、图像、视频等）。</span></li><li><span style="background:#fff88f"><span>数据 data</span></span><span>: </span><u><span>传送信息的实体</span></u><span>，通常是有意义的符号序列。</span></li><li><span style="background:#fff88f"><span>信号</span></span><span>: 数据的电气 / 电磁的表现，是</span><strong><span>数据在传输过程中的存在形式</span></strong><span>。</span><br/><span>分为</span><strong><span>数字信号</span></strong><span> 和</span><strong><span>模拟信号</span></strong><span></span><br/><img src="https://pic2.imgdb.cn/item/63edb45cf144a01007af2e20" referrerpolicy="no-referrer"></li><li><span style="background:#fff88f"><span>信源</span></span><span>: 产生和发送数据的源头。</span></li><li><span style="background:#fff88f"><span>信宿</span></span><span>: 接收数据的终点。</span></li><li><span style="background:#fff88f"><span>信道</span></span><span>: </span><u><span>信号的传输媒介</span></u><span>。一般用来表示向某一个方向传送信息的介质，因此一条通信线路往往包含一条发送信道和一条接收信道。</span>
<img src="https://pic2.imgdb.cn/item/63edb465f144a01007af3b4e" referrerpolicy="no-referrer"></li></ul><blockquote><p><span>数据传输方式</span></p></blockquote><ul><li><span style="background:rgba(5, 117, 197, 0.2)"><span>单工通信</span></span><span>：</span><u><span>只有一个方向的通信</span></u><span>而</span><u><span>没有反方向的交互</span></u><span>，已确定发送方和接收方，</span><strong><span>仅需要一条信道</span></strong><span>。（广播）</span><br/><span style="background:rgba(5, 117, 197, 0.2)"><span>半双工通信</span></span><span>：通信的双方都可以发送或接收信息，但</span><u><span>任何一方都不能同时发送和接收</span></u><span>，</span><strong><span>需要两条信道</span></strong><span>。（对讲机）</span><br/><span style="background:rgba(5, 117, 197, 0.2)"><span>全双工通信</span></span><span>：</span><u><span>通信双方可以同时发送和接受信息</span></u><span>，</span><strong><span>也需要两条信道</span></strong><span>。（打电话）</span></li></ul><ul><li><span style="background:rgba(5, 117, 197, 0.2)"><span>串行传输</span></span><span>：将表示一个字符的 8 位二进制数按由低位到高位的顺序依次发送。 </span></li></ul><p><span>特点：速度慢，费用低，适合远距离</span>
<img src="https://i0.hdslb.com/bfs/album/0e5b13face18f01b715cf13352e88ceb1c833719.png" referrerpolicy="no-referrer">
<span>	</span>
<span style="background:rgba(5, 117, 197, 0.2)"><span>并行传输</span></span><span>：将表示一个字符的 8 位二进制数同时通过 8 条信道发送。</span><br/><span>特点：速度快，费用高，适合近距离。</span>
<img src="https://pic2.imgdb.cn/item/63edb4c8f144a01007afc8c1" referrerpolicy="no-referrer"></p><h3 id='23-码元速率波特'><span>2.3 码元，速率，波特</span></h3><blockquote><p><span>码元</span></p></blockquote><p><span>码元是指用一个固定时长的</span><strong><span>信号波形</span></strong><span>（数字脉冲)，代表不同离散数值的基本波形，是数字通信中数字信号的计量单位，这个时长内的信号称为 M 进制码元，而该时长称为码元宽度。  </span></p><p><span style="background:#fff88f"><span>M进制码元，有M个离散状态，1个码元可以携带</span></span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.72ex" height="2.565ex" role="img" focusable="false" viewBox="0 -846 2086.2 1133.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.651ex;"><defs><path id="MJX-7-TEX-I-1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path><path id="MJX-7-TEX-I-1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path id="MJX-7-TEX-I-1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path><path id="MJX-7-TEX-I-1D440" d="M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z"></path><path id="MJX-7-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D459" xlink:href="#MJX-7-TEX-I-1D459"></use></g><g data-mml-node="mi" transform="translate(298,0)"><use data-c="1D45C" xlink:href="#MJX-7-TEX-I-1D45C"></use></g><g data-mml-node="msubsup" transform="translate(783,0)"><g data-mml-node="mi"><use data-c="1D454" xlink:href="#MJX-7-TEX-I-1D454"></use></g><g data-mml-node="mi" transform="translate(510,363) scale(0.707)"><use data-c="1D440" xlink:href="#MJX-7-TEX-I-1D440"></use></g><g data-mml-node="mn" transform="translate(510,-287.9) scale(0.707)"><use data-c="32" xlink:href="#MJX-7-TEX-N-32"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><msubsup><mi>g</mi><mn>2</mn><mi>M</mi></msubsup></math></mjx-assistive-mml></mjx-container><script type="math/tex">log_2^M</script><span style="background:#fff88f"><span>个比特信息</span></span><span>。  </span></p><p><span style="background:#d2cbff"><span>例如</span></span><span>：在使用</span><u><span>二进制编码</span></u><span>时，只有两种不同的码元，一种代表 0 状态，另一种代表 1 状态。</span><u><span>有2个离散状态，1个码元可以携带2个比特信息</span></u><span>。  </span></p><p><img src="https://i0.hdslb.com/bfs/album/245bc0c0ea81eced04262ed658c36f0b4dbe73ec.png" referrerpolicy="no-referrer"></p><p>⭐️<span> </span><span style="background:#d2cbff"><span>例如</span></span><span>：4 进制码元—&gt; 码元的离散状态有 4 个—&gt;4 种高低不同的信号波形 00、01、10、11(四种不同的电平)，这时1个码元携带2个比特的信息量。  </span></p><blockquote><p><span>速率</span></p></blockquote><p><span>速率也叫数据率，是指</span><span style="background:#fff88f"><span>数据的传输速率</span></span><span>（发送速率），表示单位时间内传输的数据量。可以用</span><u><span>码元传输速率和信息传输速率</span></u><span>表示。</span></p><ul><li><span style="background:rgba(5, 117, 197, 0.2)"><span>码元传输速率</span></span><span>: 别名码元速率、波形速率、调制速率、符号速率等，表示</span><span style="background:#fff88f"><span>单位时间内所传输的码元个数</span></span><span>（也可称为</span><u><span>脉冲个数或信号变化的次数</span></u><span>)，单位是</span><strong><span>波特（Baud)</span></strong><span>。</span><br/><strong><span>1 波特表示1秒传输1个码元。</span></strong><span> 这里的码元可以是各种进制，</span><span style="background:#fff88f"><span>码元速率与进制数无关</span></span><span>。</span></li><li><span style="background:rgba(5, 117, 197, 0.2)"><span>信息传输速率</span></span><span>: 别名信息速率、比特率等，</span><span style="background:#fff88f"><span>表示单位时间内传输的比特数</span></span><span>，单位是比特 / 秒 (b/s)</span></li><li><span style="background:#d2cbff"><span>关系</span></span><span>: </span><u><span>若一个码元携带 n bit 的信息量，则 M Baud 的码元传输速率所对应的信息传输速率为 M×n bit/s</span></u><span>。</span></li></ul><p><span style="background:#d2cbff"><span>例题</span></span><span>：</span><br/><img src="https://pic2.imgdb.cn/item/63d0a330588a5d166cea46ac.png" referrerpolicy="no-referrer"></p><h3 id='24-奈氏准则香农定理'><span>2.4 奈氏准则，香农定理</span></h3><blockquote><p><span>失真</span></p></blockquote><p><span>影响失真程度的因素:   </span></p><ol start='' ><li><span>码元传输速率  </span></li><li><span>信号传输距离  </span></li><li><span>噪声干扰  </span></li><li><span>传输媒体质量  </span></li></ol><p><img src="https://i0.hdslb.com/bfs/album/c6d2d660e7b6e8e1e639c029a58c4d5d9d5cf49e.png" referrerpolicy="no-referrer"></p><blockquote><p><span>码间串扰</span></p></blockquote><p><span>码间串扰: 接收端收到的信号波形</span><u><span>失去了码元之间清晰界限</span></u><span>的现象。</span></p><p><img src="https://i0.hdslb.com/bfs/album/7e017c9d3e871d2b10e3580b9ef09f31a5d3c5f3.png" referrerpolicy="no-referrer"></p><blockquote><p><span>奈氏准则</span></p></blockquote><p><span>奈氏准则: 在理想低通（无噪声，带宽受限) 条件下，为了避免码间串扰，</span><span style="background:#fff88f"><span>极限码元传输速率</span></span><span>为 2W Baud（波特），W 是信道带宽单位是 Hz。</span></p><p><mark><span>注意</span></mark><span>：只有在这两个公式带宽才用 Hz! !（</span><u><span>异曲同工：Hz表示1秒多少脉冲，也就是1秒的码元个数</span></u><span>）  </span></p><p><img src="https://i0.hdslb.com/bfs/album/babf0e62bc4d5a7a31caef4e3e89e96ef74acc0b.png" referrerpolicy="no-referrer">
<mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.269ex" height="2.601ex" role="img" focusable="false" viewBox="0 -852.1 1886.8 1149.4" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.673ex;"><defs><path id="MJX-8-TEX-I-1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path><path id="MJX-8-TEX-I-1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path id="MJX-8-TEX-I-1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path><path id="MJX-8-TEX-I-1D449" d="M52 648Q52 670 65 683H76Q118 680 181 680Q299 680 320 683H330Q336 677 336 674T334 656Q329 641 325 637H304Q282 635 274 635Q245 630 242 620Q242 618 271 369T301 118L374 235Q447 352 520 471T595 594Q599 601 599 609Q599 633 555 637Q537 637 537 648Q537 649 539 661Q542 675 545 679T558 683Q560 683 570 683T604 682T668 681Q737 681 755 683H762Q769 676 769 672Q769 655 760 640Q757 637 743 637Q730 636 719 635T698 630T682 623T670 615T660 608T652 599T645 592L452 282Q272 -9 266 -16Q263 -18 259 -21L241 -22H234Q216 -22 216 -15Q213 -9 177 305Q139 623 138 626Q133 637 76 637H59Q52 642 52 648Z"></path><path id="MJX-8-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D459" xlink:href="#MJX-8-TEX-I-1D459"></use></g><g data-mml-node="mi" transform="translate(298,0)"><use data-c="1D45C" xlink:href="#MJX-8-TEX-I-1D45C"></use></g><g data-mml-node="msubsup" transform="translate(783,0)"><g data-mml-node="mi"><use data-c="1D454" xlink:href="#MJX-8-TEX-I-1D454"></use></g><g data-mml-node="mi" transform="translate(510,369.2) scale(0.707)"><use data-c="1D449" xlink:href="#MJX-8-TEX-I-1D449"></use></g><g data-mml-node="mn" transform="translate(510,-297.3) scale(0.707)"><use data-c="32" xlink:href="#MJX-8-TEX-N-32"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><msubsup><mi>g</mi><mn>2</mn><mi>V</mi></msubsup></math></mjx-assistive-mml></mjx-container><script type="math/tex">log_2^V</script><span>：表示1码元携带的比特数。计算方法与上面的</span><span style="background:#fff88f"><span>码元传输速率</span></span><span>和</span><span style="background:#fff88f"><span>信息传输速率</span></span><span>相同。  </span></p><ol start='' ><li><span>在任何信道中，</span><strong><span>码元传输的速率是有上限的</span></strong><span>。若传输速率超过此上限，就会出现严重的码间串扰问题，使接收端对码元的完全正确识别成为不可能。</span></li><li><span>信道的</span><strong><span>频带越宽</span></strong><span>（即能通过的信号高频分量越多，也就是说</span><u><span>最高频与最低频的宽度越大</span></u><span>)，就可以用更高的速率进行码元的有效传输。</span></li><li>⭐️<span>奈氏准则给出了</span><strong><span>码元传输速率的限制</span></strong><span>，但</span><strong><span>并没有对信息传输速率给出限制</span></strong><span>。</span></li><li><span>由于码元的传输速率受奈氏准则的制约，所以</span><u><span>要提高数据的传输速率，就必须设法使每个码元能携带更多个比特的信息量</span></u><span>，这就需要</span><span style="background:#fff88f"><span>采用多元制的调制方法</span></span><span>。</span></li></ol><blockquote><p><span>香农定理</span></p></blockquote><p><strong><span>噪声</span></strong><span>存在于所有的电子设备和通信信道中。</span><br/><span>若噪声的瞬时值很大，因此噪声会使接收端对码元的判决产生错误。</span><br/><span>但是噪声是相对的，若信号较强，那么噪声影响相对较小。</span><br/><span>因此，</span><span style="background:#fff88f"><span>信噪比</span></span><span>就很重要 。</span><br/><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="55.767ex" height="3.447ex" role="img" focusable="false" viewBox="0 -1011.8 24649 1523.5" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -1.158ex;"><defs><path id="MJX-9-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-9-TEX-I-1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path><path id="MJX-9-TEX-I-1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path><path id="MJX-9-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-9-TEX-I-1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path><path id="MJX-9-TEX-I-1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mtext"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">信</text></g><g data-mml-node="mtext" transform="translate(877.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">噪</text></g><g data-mml-node="mtext" transform="translate(1755.1,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">比</text></g><g data-mml-node="mo" transform="translate(2910.4,0)"><use data-c="3D" xlink:href="#MJX-9-TEX-N-3D"></use></g><g data-mml-node="mfrac" transform="translate(3966.2,0)"><g data-mml-node="mrow" transform="translate(220,481.4) scale(0.707)"><g data-mml-node="mtext"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">信</text></g><g data-mml-node="mtext" transform="translate(877.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">号</text></g><g data-mml-node="mtext" transform="translate(1755.1,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">的</text></g><g data-mml-node="mtext" transform="translate(2632.6,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">平</text></g><g data-mml-node="mtext" transform="translate(3510.2,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">均</text></g><g data-mml-node="mtext" transform="translate(4387.7,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">功</text></g><g data-mml-node="mtext" transform="translate(5265.3,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">率</text></g></g><g data-mml-node="mrow" transform="translate(220,-370.3) scale(0.707)"><g data-mml-node="mtext"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">噪</text></g><g data-mml-node="mtext" transform="translate(877.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">声</text></g><g data-mml-node="mtext" transform="translate(1755.1,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">的</text></g><g data-mml-node="mtext" transform="translate(2632.6,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">平</text></g><g data-mml-node="mtext" transform="translate(3510.2,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">均</text></g><g data-mml-node="mtext" transform="translate(4387.7,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">功</text></g><g data-mml-node="mtext" transform="translate(5265.3,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">率</text></g></g><rect width="4543.6" height="60" x="120" y="220"></rect></g><g data-mml-node="mtext" transform="translate(8749.8,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">常</text></g><g data-mml-node="mtext" transform="translate(9627.4,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">记</text></g><g data-mml-node="mtext" transform="translate(10504.9,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">为</text></g><g data-mml-node="mfrac" transform="translate(11382.5,0)"><g data-mml-node="mi" transform="translate(305.9,394) scale(0.707)"><use data-c="1D446" xlink:href="#MJX-9-TEX-I-1D446"></use></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><use data-c="1D441" xlink:href="#MJX-9-TEX-I-1D441"></use></g><rect width="827.9" height="60" x="120" y="220"></rect></g><g data-mml-node="mi" transform="translate(12450.4,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">，</text></g><g data-mml-node="mtext" transform="translate(13327.9,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">并</text></g><g data-mml-node="mtext" transform="translate(14205.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">用</text></g><g data-mml-node="mtext" transform="translate(15083,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">分</text></g><g data-mml-node="mtext" transform="translate(15960.6,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">贝</text></g><g data-mml-node="mo" transform="translate(16838.1,0)"><use data-c="28" xlink:href="#MJX-9-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(17227.1,0)"><use data-c="1D451" xlink:href="#MJX-9-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(17747.1,0)"><use data-c="1D435" xlink:href="#MJX-9-TEX-I-1D435"></use></g><g data-mml-node="mi" transform="translate(18506.1,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">）</text></g><g data-mml-node="mtext" transform="translate(19383.7,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">作</text></g><g data-mml-node="mtext" transform="translate(20261.2,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">为</text></g><g data-mml-node="mtext" transform="translate(21138.8,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">度</text></g><g data-mml-node="mtext" transform="translate(22016.3,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">量</text></g><g data-mml-node="mtext" transform="translate(22893.9,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">单</text></g><g data-mml-node="mtext" transform="translate(23771.4,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">位</text></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>信</mtext><mtext>噪</mtext><mtext>比</mtext><mo>=</mo><mfrac><mrow><mtext>信</mtext><mtext>号</mtext><mtext>的</mtext><mtext>平</mtext><mtext>均</mtext><mtext>功</mtext><mtext>率</mtext></mrow><mrow><mtext>噪</mtext><mtext>声</mtext><mtext>的</mtext><mtext>平</mtext><mtext>均</mtext><mtext>功</mtext><mtext>率</mtext></mrow></mfrac><mtext>常</mtext><mtext>记</mtext><mtext>为</mtext><mfrac><mi>S</mi><mi>N</mi></mfrac><mi>，</mi><mtext>并</mtext><mtext>用</mtext><mtext>分</mtext><mtext>贝</mtext><mo stretchy="false">(</mo><mi>d</mi><mi>B</mi><mi>）</mi><mtext>作</mtext><mtext>为</mtext><mtext>度</mtext><mtext>量</mtext><mtext>单</mtext><mtext>位</mtext></math></mjx-assistive-mml></mjx-container><script type="math/tex">信噪比 = \frac{信号的平均功率}{噪声的平均功率} 常记为 \frac{S}{N}，并用分贝 (dB）作为度量单位</script>
<span>即：</span><br/><img src="https://i0.hdslb.com/bfs/album/43b86c58a2f933e3ee19de22d52eadbc2ce916c6.png" referrerpolicy="no-referrer"><span></span><br/>⭐️<mark><span>注意</span></mark><span>：题中出现</span><span style="background:#ff4d4f"><span>信噪比有单位 dB</span></span><span> ，将其用上面公式</span><span style="background:#ff4d4f"><span>算出</span></span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.416ex" height="2.8ex" role="img" focusable="false" viewBox="0 -892.5 1067.9 1237.5" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.781ex;"><defs><path id="MJX-10-TEX-I-1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path><path id="MJX-10-TEX-I-1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mi" transform="translate(305.9,394) scale(0.707)"><use data-c="1D446" xlink:href="#MJX-10-TEX-I-1D446"></use></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><use data-c="1D441" xlink:href="#MJX-10-TEX-I-1D441"></use></g><rect width="827.9" height="60" x="120" y="220"></rect></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mi>S</mi><mi>N</mi></mfrac></math></mjx-assistive-mml></mjx-container><script type="math/tex">\frac{S}{N}</script><span style="background:#ff4d4f"><span>值</span></span><span>，再代入下面的公式。</span></p><p><span>香农定理：在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输速率有上限值。</span></p><p><img src="https://i0.hdslb.com/bfs/album/8cf3abcea450b7c332400a2ee25475df0a645f64.png" referrerpolicy="no-referrer"></p><ol start='' ><li><span>信道的带宽或信道中的</span><span style="background:#fff88f"><span>信噪比越大</span></span><span>，则</span><span style="background:#fff88f"><span>信息的极限传输速率就越高</span></span><span>。</span></li><li><span>对一定的传输带宽和一定的信噪比，信息传输速率的上限就确定了。</span></li><li><span>只要信息的传输速率低于信道的极限传输速率，就一定能找到某种方法来实现无差错的传输。</span></li><li><u><span>香农定理得出的为极限信息传输速率，实际信道能达到的传输速率要比它低不少</span></u><span>。</span></li><li><span>从香农定理可以看出，</span><u><span>若信道带宽 W 或信噪比 S/N 没有上限（不可能），那么信道的极限信息传输速率也就没有上限</span></u><span>。</span></li></ol><blockquote><p><span>两者对比</span></p></blockquote><p>⭐️<mark><span>注意</span></mark><span>：如果题目中即出现 </span><strong><span>信噪比</span></strong><span>，又出现 </span><strong><span>码元携带的比特数</span></strong><span>，需要将 </span><strong><span>奈式准则</span></strong><span> 和 </span><strong><span>香农定理</span></strong><span> 都算出，比较大小，</span><strong><span>选取数值较小的作为最大数据传输速率</span></strong><span>。</span></p><p><img src="https://pic2.imgdb.cn/item/63d13beeface21e9efc998de.png" referrerpolicy="no-referrer">
<img src="https://pic2.imgdb.cn/item/63d760d4face21e9ef982d1b.png" referrerpolicy="no-referrer">
<img src="https://pic2.imgdb.cn/item/63d766b7face21e9efa37e91.png" referrerpolicy="no-referrer"></p><h3 id='25-编码和调制'><span>2.5 编码和调制</span></h3><h4 id='1-基带信号与宽带信号'><span>1. 基带信号与宽带信号</span></h4><p><span style="background:#d2cbff"><span>基带信号</span></span><span>：将数字信号 1 和 0 直接用两种不同的电压表示，再送到</span><strong><span>数字信道</span></strong><span>上去传输（基带传输）。（基带信号对应数字信道）</span></p><p><span style="background:#d2cbff"><span>宽带信号</span></span><span>：将基带信号进行调制后形成的频分复用模拟信号，再传送到</span><strong><span>模拟信道</span></strong><span>上去传输（宽带传输）。（宽带信号对应模拟信号）</span></p><p><span>在</span><span style="background:#fff88f"><span>传输距离较近</span></span><span>时，计算机网络</span><span style="background:#fff88f"><span>采用基带传输方式</span></span><span>。(近距离衰减小，从而信号内容不易发生变化)</span><br/><span>在</span><span style="background:#fff88f"><span>传输距离较远</span></span><span>时，计算机网络</span><span style="background:#fff88f"><span>采用宽带传输方式</span></span><span>。(远距离衰减大，即使信号变化大也能最后过滤出来基带信号)  </span></p><h4 id='2-编码和调制'><span>2. 编码和调制</span></h4><p><img src="https://i0.hdslb.com/bfs/album/7ef4b1686434e72106a1a6db08aeffe3578baee6.png" referrerpolicy="no-referrer"></p><h4 id='3-数字数据编码为数字信号'><span>3. 数字数据编码为数字信号</span></h4><p><img src="https://pic2.imgdb.cn/item/63d142e4face21e9efdadf34.png" referrerpolicy="no-referrer"></p><blockquote><p><span>非归零编码【NRZ】</span></p></blockquote><p><span style="background:#fff88f"><span>高 1 低 0</span></span><span>  </span></p><ul><li><strong><span>优点</span></strong><span>：直观、编码很容易实现；不用归零，一个周期可以全部用来传输数据  </span></li><li><strong><span>缺点</span></strong><span>：</span><u><span>缺少检错功能；无法判断一个码元的开始和结束，因此收发双方难以保持同步</span></u><span></span><br/><img src="https://i0.hdslb.com/bfs/album/05c0ddb9a1a0d2ecf289265b5118f46b97f481bc.png" referrerpolicy="no-referrer"></li></ul><blockquote><p><span>归零编码【RZ】</span></p></blockquote><p><span>信号电平在 </span><span style="background:#fff88f"><span>1个码元之内</span></span><span>，都要恢复到 </span><span style="background:#fff88f"><span>零</span></span><span> 的这个编码方式。</span><br/><span>（</span><span style="background:#fff88f"><span>1需要恢复成0，0依然是0</span></span><span>）  </span></p><ul><li><strong><span>优点</span></strong><span>：直观、编码很容易实现；由于需要归零，所以接收方可以根据该跳变调整本方的时钟基准，</span><u><span>提供了自同步机制</span></u><span>  </span></li><li><strong><span>缺点</span></strong><span>：归零需要占用一部分带宽，传输效率会受到一定影响</span><br/><img src="https://pic2.imgdb.cn/item/63d142abface21e9efda6607.png" referrerpolicy="no-referrer"></li></ul><blockquote><p><span>反向不归零编码【NRZI】</span></p></blockquote><p><span>信号电平</span><span style="background:#fff88f"><span>翻转表示 0 </span></span><span>，信号电平</span><span style="background:#fff88f"><span>不变表示 1 </span></span><span>。  </span></p><ul><li><strong><span>优点</span></strong><span>：翻转的信号本身可以作为一种通知机制，既能传输时钟信号，又能降低带宽损失  </span></li><li><strong><span>缺点</span></strong><span>：</span><u><span>当发送端为全1时，还是有和NRZ一样的缺点</span></u><span></span><br/><img src="https://pic2.imgdb.cn/item/63d22c8eface21e9efa66a02.png" referrerpolicy="no-referrer"></li></ul><blockquote><p><span>曼彻斯特编码</span></p></blockquote><p><span>将一个码元分成两个相等的间隔，</span><span style="background:#affad1"><span>前一个间隔为低电平</span></span><span> </span><span style="background:#fdbfff"><span>后一个间隔为高电平</span></span><span> 表</span><span style="background:#fff88f"><span>示码元 1； 码元 o 则正好相反</span></span><span>。</span><u><span>也可以采用相反的规定</span></u><span>。</span></p><p><strong><span>每一个码元都被调成两个电平，所以</span><span style="background:#fff88f"><span>数据传输速率只有调制速率的 1/2</span></span><span>。</span></strong><span>  </span></p><ul><li><strong><span>优点</span></strong><span>：在每个码元的中间出现电平跳变，位中间的跳变既作为时钟信号用于同步，又作为数据信号  </span></li><li><strong><span>缺点</span></strong><span>：</span><u><span>所占频带宽度将会是原始基带宽度的两倍</span></u><span>  </span></li></ul><p><img src="https://i0.hdslb.com/bfs/album/94c18175dfc4fe8cd78a554ed6541ee464f3a479.png" referrerpolicy="no-referrer"></p><blockquote><p><span>差分曼彻斯特编码</span></p></blockquote><p><span>常用于局域网传输，其规则是: </span><span style="background:#fff88f"><span>若码元为 1</span></span><span>，则</span><u><span>前半个码元的电平与上一个码元的后半个码元的电平相同</span></u><span>，</span><span style="background:#fff88f"><span>若为 0</span></span><span>，</span><u><span>则相反</span></u><span>。</span></p><ul><li><strong><span>特点</span></strong><span>：在每个码元的中间，都有一次电平的跳转，</span><u><span>可以实现自同步，且抗干扰性强于曼彻斯特编码</span></u><span>。  </span></li></ul><p><img src="https://i0.hdslb.com/bfs/album/ab244602032e49008fc9aff87ea45c23344b598a.png" referrerpolicy="no-referrer"></p><blockquote><p><span>4B/5B编码</span></p></blockquote><p><span>在比特流中插入额外的比特以打破一连串的0或1，就是</span><span style="background:#fff88f"><span>用5个比特来编码4个比特的数据</span></span><span>，之后再传给接收方</span></p><h4 id='4-数字数据调制为模拟信号求放过看不懂）'><span>4. 数字数据调制为模拟信号（求放过，看不懂）</span></h4><p><span>数字数据调制技术</span><span style="background:#fff88f"><span>在发送端</span></span><u><span>将数字信号转换为模拟信号</span></u><span>，而</span><span style="background:#fff88f"><span>在接收端</span></span><u><span>将模拟信号还原为数字信号</span></u><span>，分别对应于</span><u><span>调制解调器的调制和解调过程</span></u><span>。</span></p><p><img src="https://pic2.imgdb.cn/item/63d757e8face21e9ef87faac.png" referrerpolicy="no-referrer"></p><h3 id='26-物理层传输介质'><span>2.6 物理层传输介质</span></h3><p><span>传输介质也称传输媒体 / 传输媒介，指数据传输系统中在发送设备和接收设备之间的</span><span style="background:#fff88f"><span>物理通路</span></span><span>。</span></p><p>⭐️<mark><span>传输媒体并不是物理层</span></mark><span>。</span></p><p><span style="background:#fff88f"><span>传输媒体在物理层的下面</span></span><span>，因为</span><u><span>物理层是体系结构的第一层，因此有时称传输媒体为 0 层</span></u><span>。在传输媒体中传输的是信号，但</span><u><span>传输媒体并不知道所传输的信号代表什么意思</span></u><span>。</span><strong><span>但物理层规定了电气特性，因此能够识别所传送的比特流。</span></strong></p><p><img src="https://i0.hdslb.com/bfs/album/af01e771b6aa15a3c5045beec22b3d9655f638ba.png" referrerpolicy="no-referrer"></p><blockquote><p><span>导向型传输介质</span></p></blockquote><ol start='' ><li><p><span>双绞线</span><br/><span>双绞线：是古老、又最常用的传输介质；由</span><strong><span>两根</span></strong><span>采用一定规则</span><strong><span>并排绞合的、相互绝缘的铜导线</span></strong><span>组成</span></p><ul><li><span>绞合的目的是</span><strong><span>为了减少相邻导线的电磁干扰</span></strong></li></ul><p><span>为了进一步提高电磁干扰能力，可以在双绞线的外面再加上一个由</span><strong><span>金属丝</span></strong><span>编织而成的</span><strong><span>屏蔽层</span></strong><span>，这就是</span><strong><span>屏蔽双绞线（STP）</span></strong><span>（</span><u><span>相应没有屏蔽层的双绞线就称为非屏蔽双绞线</span></u><span>（UTP））</span><br/><img src="https://pic2.imgdb.cn/item/63c0c511be43e0d30e546535.png" referrerpolicy="no-referrer" alt="在这里插入图片描述"></p><p><span>双绞线价格便宜，是最常用的传输介质之一，在</span><u><span>局域网和传统电话网</span></u><span>中普遍使用。</span><strong><span>模拟传输和数字传输都可以使用双绞线</span></strong><span>，其通信距离一般为</span><u><span>几公里到数十公里</span></u><span>。</span><br/><span>距离太远时，对于</span><strong><span>模拟传输</span></strong><span>，要</span><strong><span>用放大器放大衰减的信号</span></strong><span>；对于</span><strong><span>数字传输</span></strong><span>，要</span><strong><span>用中继器将失真的信号整形</span></strong></p><p><span>生活中常见的双绞线样式如下</span><br/><img src="https://pic2.imgdb.cn/item/63c0c511be43e0d30e546541.png" referrerpolicy="no-referrer" alt="在这里插入图片描述"></p></li><li><p><span>同轴电缆</span><br/><span>同轴电缆：由</span><u><span>导体铜质线、绝缘层、网状编址屏蔽层和塑料外层</span></u><span>构成；按特性阻抗数值不同，将同轴电缆分为以下两类</span></p><ul><li><strong><span>基带同轴电缆（50Ω）：</span></strong><span> 主要用于传送</span><strong><span>基带数字信号（数字传输）</span></strong><span>，广泛应用于</span><strong><span>局域网</span></strong></li><li><strong><span>宽带同轴电缆（75Ω）：</span></strong><span> 主要用于传送</span><strong><span>宽带信号（模拟传输）</span></strong><span>，用于</span><strong><span>有线电视系统</span></strong></li></ul><p><span>同轴电缆具有良好的</span><strong><span>抗干扰特性</span></strong><span>，广泛应用于</span><strong><span>传输较高速率的数据</span></strong><span>，传输距离</span><strong><span>更远</span></strong><span>，但</span><strong><span>价格较双绞线贵</span></strong><span></span><br/><img src="https://pic2.imgdb.cn/item/63c0c511be43e0d30e546550.png" referrerpolicy="no-referrer" alt="在这里插入图片描述"></p><ul><li><span>同轴电缆的“同轴”指的</span><u><span>就是这个四部分共用一个轴线</span></u><span>  </span></li></ul><p><span>生活中常见的同轴电缆样式如下</span></p><p><img src="https://pic2.imgdb.cn/item/63c0c511be43e0d30e546567.png" referrerpolicy="no-referrer" alt="在这里插入图片描述"></p></li><li><p><span>光纤</span><br/><span>A：</span><span style="background:#d2cbff"><span>光纤通信（了解）</span></span><span> </span><br/><strong><span>光纤通信：</span></strong><span> 就是利用</span><strong><span>光导纤维（光纤）</span></strong><span> 传递</span><strong><span>光脉冲</span></strong><span>来进行通信（</span><strong><span>有光脉冲表示1，反之为0</span></strong><span>）；可见光的频率大约为108MHz，光纤通信的带宽是</span><strong><span>远远大于</span></strong><span>目前其他各种传输媒体的带宽的</span></p><p><img src="https://pic2.imgdb.cn/item/63c0c511be43e0d30e546596.png" referrerpolicy="no-referrer" alt="在这里插入图片描述"></p><p><span>光纤通信发出的是</span><strong><span>光信号</span></strong><span>，而计算机发送或识别的是</span><strong><span>电信号</span></strong><span>，因此整个过程中必然涉及</span><strong><span>光电转换</span></strong><span>。</span><br/><span>具体来说：光纤在</span><strong><span>发送端</span></strong><span>有光源，可以采用</span><strong><span>发光二极管或半导体激光器</span></strong><span>，它们在电脉冲作用下能产生出光脉冲；在</span><strong><span>接收端</span></strong><span>用光电二极管做成</span><strong><span>光检测器</span></strong><span>，在检测到光脉冲时可还原出</span><strong><span>电脉冲</span></strong></p><p><span>B：</span><span style="background:#d2cbff"><span>光纤</span></span><span>  </span><br/><span>光纤：主要由</span><strong><span>纤芯（实心）和包层</span></strong><span>构成，光波通过纤芯传导。由于包层折射率较低，因此当光线从高折射率的介质射向低折射率的介质时，此时折射角大于入射角，如果入射角足够大，就会出现全反射，也即当光线碰到包层时就会折射回纤芯。这个过程不断重复，光也就可以沿着光纤一直传输下去了</span></p><p><img src="https://pic2.imgdb.cn/item/63c0c511be43e0d30e546700.png" referrerpolicy="no-referrer" alt="在这里插入图片描述"></p><p><strong><span>光纤可以分为以下两种</span></strong><span>  </span></p><ul><li><span style="background:#d2cbff"><span>多模光纤</span></span><span>：从不同角度入射的</span><strong><span>多束光线</span></strong><span>可以在</span><strong><span>一条光纤</span></strong><span>中传输；其光源为</span><strong><span>发光二极管</span></strong><span>；光脉冲在多模光纤中传输时会逐渐展宽，</span><strong><span>造成失真</span></strong><span>；只适用于</span><strong><span>近距离传输</span></strong><span></span><br/><img src="https://pic2.imgdb.cn/item/63c0c511be43e0d30e546717.png" referrerpolicy="no-referrer" alt="在这里插入图片描述"></li><li><span style="background:#d2cbff"><span>单模光纤</span></span><span>：光纤的直径减小到仅一个</span><strong><span>光波长度</span></strong><span>时，光纤就像一根</span><strong><span>波导</span></strong><span>一样，可以使光线一直向前传播，而</span><strong><span>不会产生多次反射</span></strong><span>；其纤芯</span><strong><span>很细</span></strong><span>，制造成本</span><strong><span>高</span></strong><span>；单模光纤的光源为</span><strong><span>定向性很好的激光二极管</span></strong><span>；其</span><strong><span>衰减较小</span></strong><span>、适合</span><strong><span>远距离传输</span></strong><span></span><br/><img src="https://pic2.imgdb.cn/item/63c0c511be43e0d30e546724.png" referrerpolicy="no-referrer" alt="在这里插入图片描述"></li></ul><p><img src="https://pic2.imgdb.cn/item/63d28987face21e9ef94b6f0.png" referrerpolicy="no-referrer"></p><p><span>C：</span><span style="background:#d2cbff"><span>光纤特点</span></span><span>   </span></p><ul><li><span>传输</span><strong><span>损耗小</span></strong><span>，中继</span><strong><span>距离长</span></strong><span>，对</span><strong><span>远距离传输</span></strong><span>特别经济</span></li><li><span>抗雷电和电磁干扰性能好</span></li><li><span>无串音干扰，</span><strong><span>保密性</span></strong><span>好，也不易被窃听或截取数</span></li><li><span>体积小，重量轻</span></li></ul></li></ol><blockquote><p><span>非导向型传输介质</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63d28ae4face21e9ef992420.png" referrerpolicy="no-referrer">
<img src="https://pic2.imgdb.cn/item/63d28b21face21e9ef9a02a3.png" referrerpolicy="no-referrer">
<img src="https://pic2.imgdb.cn/item/63d28b81face21e9ef9b41af.png" referrerpolicy="no-referrer"></p><h3 id='27-物理层设备'><span>2.7 物理层设备</span></h3><h4 id='1-中继器'><span>1. 中继器</span></h4><p><span>诞生原因: </span><u><span>由于存在损耗，在线路上传输的信号功率会逐渐衰减，衰减到一定程度时将造成信号失真，因此会导致接收错误</span></u><span>。</span></p><p><span style="background:#d2cbff"><span>中继器的功能</span></span><span>: </span><span style="background:#fff88f"><span>对信号进行再生和还原，对衰减的信号进行放大，保持与原数据相同，以增加信号传输的距离，延长网络的长度</span></span><span>。</span></p><p><img src="https://pic2.imgdb.cn/item/63d29392face21e9efb56aec.png" referrerpolicy="no-referrer"></p><p><span>中继器的两端: </span><span style="background:#fff88f"><span>两端的网络部分是网段</span></span><span>，</span><span style="background:#ff4d4f"><span>而不是子网</span></span><span>，</span><strong><span>适用于完全相同的两类网络的互连，且两个网段速率要相同</span></strong><span>。（后面会讲解网段，子网的相关内容）</span></p><ul><li><span>中继器只将任何电缆段上的数据发送到另一段电缆上，它</span><strong><span>仅作用于信号的电气部分</span></strong><span>，并不管数据中是否有错误数据或不适于网段的数据。</span></li><li><span>两端可连相同媒体，也可连不同媒体。</span></li><li><strong><span>中继器两端的网段一定要是同一个协议</span></strong><span>。（</span><u><span>中继器不会存储转发，傻</span></u><span>)</span></li></ul><h4 id='2-集线器多口中继器）'><span>2. 集线器（多口中继器）</span></h4><p><span style="background:#d2cbff"><span>集线器的功能</span></span><span>: </span><span style="background:#fff88f"><span>对6信号进行再生放大转发，对衰减的信号进行放大，接着转发到其他所有（除输入端口外）处于工作状态的端口上，以增加信号传输的距离，延长网络的长度</span></span><span>。</span><u><span>不具备信号的定向传送能力，是一个共享式设备</span></u><span>。(就是个广播)</span></p><p><img src="https://pic2.imgdb.cn/item/63edb76df144a01007b3b7a3" referrerpolicy="no-referrer"></p><h2 id='三数据链路层'><span>三、数据链路层</span></h2><hr /><h3 id='31-功能概述'><span>3.1 功能概述</span></h3><blockquote><p><span>一些基本概念</span></p></blockquote><ul><li><span style="background:#d2cbff"><span>结点</span></span><span>：每个</span><span style="background:#fff88f"><span>主机、路由器</span></span><span>被称为一个结点。  </span></li><li><span style="background:#d2cbff"><span>链路</span></span><span>：网络中两个结点之间的</span><strong><span>物理通道</span></strong><span>，链路的传输介质主要有双绞线、光纤和微波。分为</span><span style="background:#fff88f"><span>有线链路、无线链路</span></span><span>。  </span></li><li><span style="background:#d2cbff"><span>数据链路</span></span><span>：网络中两个结点之间的</span><strong><span>逻辑通道</span></strong><span>，</span><span style="background:#fff88f"><span>把实现控制数据传输协议的硬件和软件加到链路上</span></span><span>就构成数据链路。  </span></li><li><span style="background:#d2cbff"><span>帧</span></span><span>：链路层的协议数据单元，</span><strong><span>封装网络层数据报</span></strong><span>。  </span></li></ul><p><span>数据链路层负责通过一条链路从一个结点向另一个物理链路直接相连的相邻结点传送帧。（搬运工的角色）</span></p><blockquote><p><span>功能概述</span></p></blockquote><p><span>数据链路层在物理层提供服务的基础上向网络层提供服务。</span><br/>⭐️<span style="background:#fff88f"><span>最基本的服务</span></span><span>是</span><u><span>将源自网络层来的数据可靠地传输到相邻节点的目标机网络层</span></u><span>。</span><br/>⭐️<span style="background:#fff88f"><span>主要作用</span></span><span>是</span><u><span>加强物理层传输原始比特流的功能，将物理层提供的可能出错的物理连接改造成为逻辑上无差错的数据链路，使之对网络层表现为一条无差错的链路</span></u><span>。  </span></p><p><span>漫画解释：</span><br/><img src="https://pic2.imgdb.cn/item/63edb762f144a01007b3a8bd" referrerpolicy="no-referrer"></p><ul><li><span>功能一：为网络层提供服务。（无确认无连接服务，有确认无连接服务，有确认面向连接服务。）</span></li><li><span>功能二：链路管理，即连接的建立、维持、释放（用于面向连接的服务）。</span></li><li><span>功能三：组帧。</span></li><li><span>功能四：流量控制。</span></li><li><span>功能五：差错控制（帧错 / 位错）。  </span></li></ul><h3 id='32-封装成帧--透明传输'><span>3.2 封装成帧 &amp; 透明传输</span></h3><ul><li><p><span style="background:#d2cbff"><span>封装成帧</span></span><span>：</span><span style="background:#fff88f"><span>指在一段数据的前后添加首部和尾部，构成一个帧</span></span><span>。  </span></p></li><li><p><span>首部和尾部包含许多的控制信息，他们的一个重要作用: </span><strong><span>帧定界（确定帧的界限）</span></strong><span>。</span><u><span>通过 帧定界 确定帧的开始和结束</span></u><span>。 </span><span style="background:#fff88f"><span>接收端在收到物理层上交的比特流后，根据首部和尾部的标记，从收到的比特流中识别帧的开始和结束。</span></span><span>   </span></p><p><span style="background:#d2cbff"><span>帧同步</span></span><span>：</span><strong><span>接收方</span></strong><span>应当能从接收到的二进制比特流中区分出帧的起始和终止。  </span></p></li><li><p><span style="background:#d2cbff"><span>组帧的四种方法</span></span><span>: 1. 字符计数法，2. 字符 (节）填充法，3. 零比特填充法，4. 违规编码法。</span></p></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb75ff144a01007b3a390" referrerpolicy="no-referrer"></p><ul><li><span>透明传输</span></li></ul><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.26172px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">透明传输&lt;span style="background:#fff88f"&gt;指不管所传数据是什么样的比特组合，都应当能够在链路上传送&lt;/span&gt;。 &nbsp;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;u&gt;如果所传数据的比特组合与某个控制信号完全相同，需要采取适当的措施，防止接收方误认为某种控制信号。保证数据链路层的传输是透明的&lt;/u&gt;。 &nbsp;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><p><span>下面来介绍组帧的四种方法。</span></p><h4 id='1-字符计数法'><span>1. 字符计数法</span></h4><ul><li><span>帧首部使用一个计数字段，也就是</span><mark><span>每个帧的第一个字节</span></mark><span>（八位）</span><span style="background:#fff88f"><span>来标明帧内字符数</span></span><span>。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb75df144a01007b3a14f" referrerpolicy="no-referrer"></p><p><mark><span>缺陷</span></mark><span>：</span><span style="background:#fff88f"><span>第一个数错误的话，剩下的就全部错误</span></span><span>了。因此不经常使用。</span></p><h4 id='2-字符填充法'><span>2. 字符填充法</span></h4><ul><li><span>联想 java 中的转义字符。</span><br/><span>防止接收端</span><strong><span>误认为</span></strong><span>中间部分的字段为</span><u><span>开始字符SOH</span></u><span>和</span><u><span>结束字符EOT</span></u><span>（包括转义字符ESC等），通常</span><strong><span>添加类似转义字符ESC</span></strong><span>，跳过该字段，知道遇到真正的结束字符。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb758f144a01007b39a22" referrerpolicy="no-referrer"></p><h4 id='3-零比特填充法'><span>3. 零比特填充法</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb757f144a01007b3991c" referrerpolicy="no-referrer"></p><p><mark><span>注意</span></mark><span>：首位标志字段是</span><span style="background:#fff88f"><span> 连续的 6 个 1</span></span><span></span><br/><span>为了信息字段与首位进行区别，操作如下：  </span></p><ol start='' ><li><span>在</span><span style="background:#fff88f"><span>发送端</span></span><span>，扫描整个信息字段，</span><u><span>只要连续 5 个 1，就立即填入 1 个 0</span></u><span>。   </span></li><li><span>在</span><span style="background:#fff88f"><span>接收端</span></span><span>收到一个帧时，先找到标志字段确定边界，再用硬件对比特流进行扫描。</span><u><span>发现连续 5 个 1 时，就把后面的 0 删除</span></u><span>。</span></li></ol><p><img src="https://pic2.imgdb.cn/item/63edb752f144a01007b392a2" referrerpolicy="no-referrer"></p><p><strong><span>保证了透明传输: 在传送的比特流中可以传送任意比特组合，而不会引起对帧边界的判断错误</span></strong><span>。</span></p><h4 id='4-违规编码法'><span>4. 违规编码法</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb747f144a01007b38344" referrerpolicy="no-referrer"></p><p><span style="background:#fff88f"><span>可以用 “高 - 高”，“低 - 低” 来定界帧的起始和终止</span></span><span>。</span></p><p><mark><span>总结</span></mark><span>：</span>
<span>由于</span><span style="background:#fff88f"><span>字节计数法</span></span><span>中 Count 字段的脆弱性（其值若有差错将导致灾难性后果）及字符填充实现上的复杂性和不兼容性，目前较</span><strong><span>普遍使用的帧同步法</span></strong><span>是</span><u><span>比特填充和违规编码法</span></u><span>。  </span></p><hr /><h3 id='33-差错控制检错编码）'><span>3.3 差错控制（检错编码）</span></h3><h4 id='1-差错从哪来'><span>1. 差错从哪来</span></h4><p><span>概括来说，</span><span style="background:#fff88f"><span>传输中的差错都是由于噪声引起的</span></span><span>。</span></p><p><span>全局性：1. 由于线路本身电气特性所产生的随机噪声 (热噪声)，是信道固有的，随机存在的。</span><br/><span>解决办法: 提高信噪比来减少或避免干扰。(对传感器下手)</span></p><p><span>局部性：2. 外界特定的短暂原因所造成的冲击噪声，是产生差错的主要原因。</span><br/><span>解决办法: 通常利用编码技术来解决。</span></p><ul><li><span>差错种类</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb742f144a01007b37c05" referrerpolicy="no-referrer"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/ff8ae111b4bceec5ec15a6ce84d65597.png" referrerpolicy="no-referrer"></p><h4 id='2-差错控制位错）'><span>2. 差错控制（位错）</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb740f144a01007b37889" referrerpolicy="no-referrer"></p><blockquote><p><span>冗余编码</span></p></blockquote><p><span>在数据发送之前，先按某种关系附加上一定的冗余位，构成一个符合某一规则的码字后再发送。当要发送的有效数据变化时，相应的冗余位也随之变化，使码字遵从不变的规则。接收端根据收到码字是否仍符合原规则，从而判断是否出错。</span></p><blockquote><p><span>奇偶校验码</span></p></blockquote><ul><li><span>注意：“1” 的个数包括检验元</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb73df144a01007b3749a" referrerpolicy="no-referrer"></p><blockquote><p><span>CRC 循环校验码</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb738f144a01007b36f1b" referrerpolicy="no-referrer"></p><ul><li><p><span>接收端如何检错</span><br/><span>把收到的每一个帧都除以同样的除数，然后检查得到的余数 R。</span></p><ol start='' ><li><span>余数为 0，判定这个帧没有差错，接受。  </span></li><li><span>余数为不为 0，判定这个帧有差错（无法确定到位），丢弃。</span></li></ol><p><span>FCS 的生成以及接收端 CRC 检验都是由硬件实现，处理很迅速，因此不会延误数据的传输。</span></p></li></ul><h3 id='34-差错控制纠错编码------海明码）'><span>3.4 差错控制（纠错编码——海明码）</span></h3><ul><li><strong><span>海明码: 发现双比特错，纠正单比特错。</span></strong></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb735f144a01007b36a18" referrerpolicy="no-referrer"></p><h4 id='1-确定校验码的位数-r'><span>1. 确定校验码的位数 r</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb72df144a01007b35ef8" referrerpolicy="no-referrer"></p><h4 id='2-确定校验码和数据的位置'><span>2. 确定校验码和数据的位置</span></h4><ul><li><span>校验码放在 2 的几次方的位置，如 2</span><sup><span>0,2</span></sup><span>1,2^2…</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb72bf144a01007b35bff" referrerpolicy="no-referrer"></p><h4 id='3-求出校验码的值'><span>3. 求出校验码的值</span></h4><ul><li><span>首先写出数据位对应的二进制，二进制位数由数据位最后一位（在下面的例子中为 10）确定。所以是 4 位。</span></li><li><span>P1 的值是所有二进制最后一位为 1 的实际值异或为 0。 如何解释？</span></li></ul><ol start='' ><li><span>P1最后一位为1，先找出二进制最后一位与P1相同的有D1,D2,D4,D5。</span></li><li><span>对他们代表的实际值进行异或。P1 设为 x</span></li><li><span>x⊕1⊕0⊕1⊕0=0 所以 x=0 即 P1=0。</span></li></ol><p><span>例：P2第三位为1，先找出二进制第三位与P2相同的有……</span></p><p><img src="https://pic2.imgdb.cn/item/63edb725f144a01007b3509f" referrerpolicy="no-referrer"></p><h4 id='4-检错并纠错'><span>4. 检错并纠错</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb721f144a01007b3488f" referrerpolicy="no-referrer"></p><p><strong><span>对所有要校验的位进行异或运算。</span></strong></p><p><span>eg：对第一位进行异或运算。</span></p><p><span>P1⊕D1⊕D2⊕D4⊕D5=1。</span><br/><span>再对第二位、第三位…依次进行异或</span><br/><span>按从高到低的顺序进行排序。 为 0101=5。 所以判定第五位是错的。纠错即可。</span></p><h3 id='35-流量控制和可靠传输机制'><span>3.5 流量控制和可靠传输机制</span></h3><p><strong><span>较高的发送速度和较低的接收能力</span></strong><span>的不匹配，会造成传输出错，因此流量控制也是数据链路层的一项重要工作。</span></p><blockquote><p><span>数据链路层和传输层流量控制的区别</span></p></blockquote><p><span>数据链路层的流量控制是点对点的，而传输层的流量控制是端到端的。</span></p><p><span>数据链路层流量控制手段: 接收方收不下就不回复确认。</span></p><p><span>传输层流量控制手段: 接收端给发送端一个窗口公告。</span></p><blockquote><p><span>流量控制的方法</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb71ef144a01007b344e4" referrerpolicy="no-referrer"></p><ul><li><span>三者的区别</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb719f144a01007b33d83" referrerpolicy="no-referrer"></p><ul><li><span>可靠传输，流量控制，滑动窗口</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb715f144a01007b33697" referrerpolicy="no-referrer"></p><h3 id='36-停止------等待协议'><span>3.6 停止——等待协议</span></h3><p><img src="https://pic2.imgdb.cn/item/63edb712f144a01007b332c7" referrerpolicy="no-referrer"></p><ul><li><span>下面来介绍一下停等协议的几种应用情况</span></li></ul><h4 id='1-无差错情况'><span>1. 无差错情况</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb70df144a01007b32b61" referrerpolicy="no-referrer"></p><h4 id='2-数据帧丢失或者帧出错'><span>2. 数据帧丢失或者帧出错</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb70af144a01007b32777" referrerpolicy="no-referrer"></p><h4 id='3ack确认帧）丢失'><span>3.ACK（确认帧）丢失</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb707f144a01007b32299" referrerpolicy="no-referrer"></p><h4 id='4ack-迟到'><span>4.ACK 迟到</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb703f144a01007b31ca8" referrerpolicy="no-referrer"></p><h4 id='5-信道利用率'><span>5. 信道利用率</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb700f144a01007b31902" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63edb6fdf144a01007b3146f" referrerpolicy="no-referrer"></p><h3 id='37-后退-n-帧协议gbn）'><span>3.7 后退 N 帧协议（GBN）</span></h3><h4 id='1-图解'><span>1. 图解</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb6faf144a01007b31078" referrerpolicy="no-referrer"></p><h4 id='2gbk-发送方必须响应的三件事'><span>2.GBK 发送方必须响应的三件事</span></h4><ol start='' ><li><span>上层的调用</span><br/><span>上层要发送数据时，发送方先检查发送窗口是否已满，如果未满，则产生一个帧并将其发送; 如果窗口已满，发送方只需将数据返回给上层，暗示上层窗口已满。上层等一会再发送。(实际实现中，发送方可以缓存这些数据，窗口不满时再发送帧)。</span></li><li><span>收到了一个 ACK</span><br/><span>GBN 协议中，对 n 号帧的确认采用</span><strong><span>累积确认</span></strong><span>的方式，</span><strong><span>标明接收方已经收到 n 号帧和它之前的全部帧。</span></strong></li><li><span>超时事件</span><br/><span>协议的名字为后退 N 帧 / 回退 N 帧，来源于出现丢失和时延过长帧时发送方的行为。就像在停等协议中一样，定时器将再次用于恢复数据帧或确认帧的丢失。</span><strong><span>如果出现超时，发送方重传所有已发送但未被确认的帧。</span></strong></li></ol><h4 id='3gbn-接收方要做的事'><span>3.GBN 接收方要做的事</span></h4><p><span>如果正确收到 n 号帧，并且按序，那么接收方为 n 帧发送一个 ACK，并将该帧中的数据部分交付给上层。</span></p><p><span>其余情况都丢弃帧，</span><strong><span>并为最近按序接收的帧重新发送 ACK</span></strong><span>（如图所示）。接收方无需缓存任何失序帧，只需要维护一个信息: expectedseqnum(下一个按序接收的帧序号）。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb6f4f144a01007b30804" referrerpolicy="no-referrer"></p><h4 id='4-滑动窗口的长度'><span>4. 滑动窗口的长度</span></h4><p><strong><span>若采用 n 个比特对帧编号，那么发送窗口的尺寸 w 应满足: 1≤w≤2^n-1</span></strong><span>。因为发送窗口尺寸过大，就会使得接收方无法区别新帧和旧帧。</span></p><h4 id='5-性能分析'><span>5. 性能分析</span></h4><p><span>优点：因连续发送数据帧而提高了信道利用率。</span></p><p><span>缺点：在重传时必须把原来已经正确传送的数据帧重传，使传送效率降低。</span></p><p><span>选择重传协议可以解决这个问题。</span></p><h3 id='38-选择重传协议sr）'><span>3.8 选择重传协议（SR）</span></h3><p><span>那么如何解决后退 N 帧协议的缺点呢？</span></p><p><span>解决办法: 设置单个确认，同时加大接收窗口，设置接收缓存，缓存乱序到达的帧。</span></p><h4 id='1-滑动窗口'><span>1. 滑动窗口</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb6f0f144a01007b30214" referrerpolicy="no-referrer"></p><h4 id='2sr-发送方必须响应的三件事'><span>2.SR 发送方必须响应的三件事</span></h4><ol start='' ><li><p><span>上层的调用</span><br/><span>从上层收到数据后，SR 发送方检查下一个可用于该帧的序号，如果序号位于发送窗口内，则发送数据帧; 否则就像 GBN 一样，要么将数据缓存，要么返回给上层之后再传输。</span></p></li><li><p><span>收到了一个 ACK</span><br/><span>如果收到 ACK，加入该帧序号在窗口内，则 SR 发送方将那个被确认的帧标记为已接收。如果该帧序号是窗口的下界（最左边第一个窗口对应的序号)，则窗口向前移动到具有最小序号的未确认帧处。如果窗口移动了并且有序号在窗口内的未发送帧，则发送这些帧。</span></p></li><li><p><span>超时事件</span></p><p><span>每个帧都有自己的定时器，一个超时事件发生后只重传一个帧。</span></p></li></ol><h4 id='3sr-接收方要做的事'><span>3.SR 接收方要做的事</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb6ebf144a01007b2f948" referrerpolicy="no-referrer"></p><h4 id='4-滑动窗口长度'><span>4. 滑动窗口长度</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb6e7f144a01007b2f546" referrerpolicy="no-referrer"></p><h3 id='39-信道划分介质访问控制'><span>3.9 信道划分介质访问控制</span></h3><h4 id='1-传输数据用到的两种链路'><span>1. 传输数据用到的两种链路</span></h4><ul><li><span>点对点链路 : 两个相邻节点通过一个链路相连，没有第三者。应用: PPP 协议，常用于广域网。</span></li><li><span>广播式链路 : 所有主机共享通信介质。应用: 早期的总线以太网、无线局域网，常用于局域网。典型拓扑结构: 总线型、星型（逻辑总线型)</span></li></ul><h4 id='2-介质访问控制'><span>2. 介质访问控制</span></h4><p><span>介质访问控制的内容就是，采取一定的措施，使得两对节点之间的通信不会发生互相干扰的情况。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb6e4f144a01007b2f04b" referrerpolicy="no-referrer"></p><h4 id='3-信道划分介质访问控制'><span>3. 信道划分介质访问控制</span></h4><p><span>信道划分介质访问控制: 将使用介质的每个设备与来自同一信道上的其他设备的通信隔离开，把时域和频域资源合理地分配给网络上的设备。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb6dff144a01007b2ea30" referrerpolicy="no-referrer"></p><ul><li><span>下面来介绍几种多路复用技术。</span></li></ul><h4 id='4-频分多路复用-fdm'><span>4. 频分多路复用 FDM</span></h4><p><span>用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。频分复用的所有用户在同样的时间占用不同的带宽（频率带宽）资源。</span><br/><span>优点：充分利用传输介质带宽，系统效率较高 ; 由于技术比较成熟，实现也比较容易。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb6dbf144a01007b2e41f" referrerpolicy="no-referrer"></p><h4 id='5-时分多路复用-tdm'><span>5. 时分多路复用 TDM</span></h4><p><span>将时间划分为一段段等长的时分复用帧（TDM 帧)。每一个时分复用的用户在每一个 TDM 帧中占用固定序号的时隙，所有用户轮流占用信道。</span></p><p><span>这样做有一个弊端，就是当 ABC 都不传输数据的时候，D 仍然要等待，不能直接传输。信道利用率只有 1/4.</span></p><p><img src="https://pic2.imgdb.cn/item/63edb6d8f144a01007b2e06a" referrerpolicy="no-referrer"></p><h4 id='5-改进时分复用------统计时分复用-stdm'><span>5. 改进时分复用——统计时分复用 STDM</span></h4><ul><li><span>ABCD 中任何一个想传输数据时，直接发送即可。不用等到自己的时间段，信道利用率大大提高。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb6d3f144a01007b2d901" referrerpolicy="no-referrer"></p><h4 id='6-波分多路复用-wdm'><span>6. 波分多路复用 WDM</span></h4><p><span>波分多路复用就是</span><strong><span>光的频分多路复用</span></strong><span>，在一根光纤中传输多种不同波长（频率）的光信号，由于波长（频率) 不同，所以各路光信号互不干扰，最后再用波长分解复用器将各路波长分解出来。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb6d0f144a01007b2d43a" referrerpolicy="no-referrer"></p><h4 id='7-码分多路复用cdma）'><span>7. 码分多路复用（CDMA）</span></h4><ul><li><span>码分多址 (CDMA）是码分复用的一种方式。</span></li><li><span>1 个比特分为多个码片 / 芯片 (chip），</span><strong><span>每一个站点被指定一个唯一的 m 位的芯片序列</span></strong><span>。发送 1 时站点发送芯片序列，发送 0 时发送芯片序列反码（通常把 0 写成 - 1）。</span></li><li><span>如何不打架: 多个站点同时发送数据的时候，要求各个站点芯片序列相互正交。</span></li><li><span>如何合并: 各路数据在信道中被线性相加。</span></li><li><span>如何分离: 合并的数据和源站规格化内积。</span></li></ul><p><span>这个部分比较难理解，建议结合书和视频多看几遍。</span></p><blockquote><p><span>接下来会将 随机访问介质访问控制 中的几种协议。</span></p></blockquote><h3 id='310-aloha-协议'><span>3.10 ALOHA 协议</span></h3><ul><li><span>ALOHA 协议分为两种，纯 ALOHA 协议和时隙 ALOHA 协议。接下来分别介绍他们。</span></li></ul><h4 id='1-纯-aloha-协议'><span>1. 纯 ALOHA 协议</span></h4><p><span>纯 ALOHA 协议思想: 不监听信道，不按时间槽发送，随机重发。</span><strong><span>想发就发</span></strong></p><p><img src="https://pic2.imgdb.cn/item/63edb6caf144a01007b2caf8" referrerpolicy="no-referrer"></p><h4 id='2-时隙-aloha-协议'><span>2. 时隙 ALOHA 协议</span></h4><p><span>时隙 ALOHA 协议的思想: 把时间分成若干个相同的时间片，所有用户在时间片开始时刻同步接入网络信道，若发生冲突，则必须等到下一个时间片开始时刻再发送。 </span><strong><span>控制想发就发的随意性</span></strong></p><p><img src="https://pic2.imgdb.cn/item/63edb6c7f144a01007b2c632" referrerpolicy="no-referrer"></p><h3 id='311-csma-协议'><span>3.11 CSMA 协议</span></h3><p><strong><span>CS</span></strong><span>: 载波侦听 / 监听，每一个站在</span><strong><span>发送数据之前</span></strong><span>要检测一下总线上是否有其他计算机在发送数据。</span></p><p><span>如何检测？</span></p><p><span>当几个站同时在总线上发送数据时，总线上的信号电压摆动值将会增大（互相叠加)。当一个站检测到的信号电压摆动值超过一定门限值时，就认为总线上至少有两个站同时在发送数据，表明产生了碰撞，即发生了冲突。</span></p><p><strong><span>MA</span></strong><span> : 多点接入，表示许多计算机以多点接入的方式连接在一根总线上。</span></p><p><strong><span>协议思想: 发送帧之前，监听信道。</span></strong></p><p><img src="https://pic2.imgdb.cn/item/63edb6c4f144a01007b2c24c" referrerpolicy="no-referrer"></p><h4 id='1-1---坚持-csma'><span>1. 1—坚持 CSMA</span></h4><ul><li><span>坚持指的是对于监听信道忙之后的坚持。</span></li><li><span>1 - 坚持 CSMA 思想: 如果一个主机要发送消息，那么它先监听信道。</span><br/><strong><span>空闲则直接传输，不必等待。</span></strong><span></span><br/><strong><span>忙则一直监听，直到空闲马上传输。</span></strong></li><li><span>如果有冲突 (一段时间内未收到肯定回复〉，则等待一个随机长的时间再监听，重复上述过程。</span></li><li><span>优点: 只要媒体空闲，站点就马上发送，避免了媒体利用率的损失。</span></li><li><span>缺点: 假如有两个或两个以上的站点有数据要发送，冲突就不可避免。</span></li></ul><h4 id='2-非坚持-csma'><span>2. 非坚持 CSMA</span></h4><ul><li><span>非坚持指的是对于监听信道忙之后就不继续监听。</span></li><li><span>非坚持 CSMA 思想: 如果一个主机要发送消息，那么它先监听信道。</span><br/><strong><span>空闲则直接传输，不必等待。</span></strong><span></span><br/><strong><span>忙则等待一个随机的时间之后再进行监听。</span></strong></li><li><span>优点: 采用随机的重发延迟时间可以减少冲突发生的可能性。</span></li><li><span>缺点: 可能存在大家都在延迟等待过程中，使得媒体仍可能处于空闲状态，媒体使用率降低。</span></li></ul><h4 id='3p---坚持-csma'><span>3.P—坚持 CSMA</span></h4><ul><li><span>p - 坚持指的是对于监听信道空闲的处理。</span></li><li><span>p - 坚持 CSMA 思想: 如果一个主机要发送消息，那么它先监听信道。</span><br/><strong><span>空闲则以 p 概率直接传输，不必等待; 概率 1-p 等待到下一个时间槽再传输。忙则等待一个随机的时间之后再进行监听。</span></strong></li><li><span>优点: 既能像非坚持算法那样减少冲突，又能像 1 - 坚持算法那样减少媒体空闲时间的这种方案。</span></li><li><span>发生冲突后还是要坚持把数据帧发送完，造成了浪费。</span></li></ul><h4 id='4-对比总结'><span>4. 对比总结</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb6bff144a01007b2bb7e" referrerpolicy="no-referrer"></p><h3 id='312-csmacd-协议'><span>3.12 CSMA/CD 协议</span></h3><p><strong><span>CS</span></strong><span>: 载波侦听 / 监听，每一个站在</span><strong><span>发送数据之前</span></strong><span>以及</span><strong><span>发送数据时</span></strong><span>都要检测一下总线上是否有其他计算机在发送数据。</span></p><p><span>MA: 多点接入，表示许多计算机以多点接入的方式连接在一根总线上。（总线型网络）</span></p><p><strong><span>CD: </span></strong><span>碰撞检测（冲突检测)，</span><strong><span>“边发送边监听”</span></strong><span>，适配器边发送数据边检测信道上信号电压的变化情况，以便判断自己在发送数据时其他站是否也在发送数据。 （半双工网络）</span></p><p><span>问：监听之后为啥还会发生冲突呢？</span></p><p><span>答：</span><strong><span>因为电磁波在总线上总是以有限的速率传播的。</span></strong></p><p><span>问：最迟多久才能知道自己发送的数据没和别人碰撞?</span></p><p><span>答：最多是两倍的总线端到端的传播时延（2T)</span></p><p><strong><span>总线的端到端往返传播时延只要经过 2z 时间还没有检测到碰撞，就能肯定这次发送不会发生碰撞。</span></strong></p><p><span>问：如何确定碰撞后的重传时机?</span></p><p><span>答：</span></p><p><img src="https://pic2.imgdb.cn/item/63edb6bcf144a01007b2b8c7" referrerpolicy="no-referrer"></p><p><span>若连续多次发生冲突, 就表明可能有较多的站参与争用信道。使用此算法可使重传需要推迟的平均时间随重传次数的增大而增大，因而减小发生碰撞的概率，有利于整个系统的稳定。</span></p><blockquote><p><span>最小帧长问题</span></p></blockquote><p><span>如果帧的长度太小，可能在站点停止传送之前，就已经传送完了。因此需要确定一个最小帧长。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb6b9f144a01007b2b251" referrerpolicy="no-referrer"></p><h3 id='313-csmaca-协议'><span>3.13 CSMA/CA 协议</span></h3><p><span>CSMA/CA 主要用于无线局域网。CSMA/CD 主要用于有线局域网。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb6b6f144a01007b2aea8" referrerpolicy="no-referrer"></p><blockquote><p><span>工作原理</span></p></blockquote><ul><li><span>发送数据前，先检测信道是否空闲。</span></li><li><span>空闲则发出 RTS (request to send），RTS 包括发射端的地址、接收端的地址、下一份数据将持续发送的时间等信息;</span></li><li><span>信道忙则等待。</span></li><li><span>接收端收到 RTS 后，将响应 CTS (clear to send)。</span></li><li><span>发送端收到 CTS 后，开始发送数据帧（</span><strong><span>同时预约信道: 发送方告知其他站点自己要传多久数据</span></strong><span>）。接收端收到数据帧后，将用 CRC 来检验数据是否正确，正确则响应 ACK 帧。</span></li><li><span>发送方收到 ACK 就可以进行下一个数据帧的发送，若没有则一直重传至规定重发次数为止 (采用二进制指数退避算法来确定随机的推迟时间)。</span></li></ul><blockquote><p><span>CSMA/CA 和 CSMA/CD 对比</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb6b2f144a01007b2a790" referrerpolicy="no-referrer"></p><h3 id='314-轮训访问介质控制访问'><span>3.14 轮训访问介质控制访问</span></h3><ul><li><span>优点： 既要不产生冲突，又要发送时占全部带宽。</span></li></ul><h4 id='1-轮训协议'><span>1. 轮训协议</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb6aff144a01007b2a293" referrerpolicy="no-referrer"></p><h4 id='2-令牌传递协议'><span>2. 令牌传递协议</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb6adf144a01007b29e11" referrerpolicy="no-referrer"></p><blockquote><p><span>以下几节的内容都不是重点，了解即可。</span></p></blockquote><h3 id='315-局域网基本概念和体系结构'><span>3.15 局域网基本概念和体系结构</span></h3><p><span>局域网 (Local Area Network): 简称 LAN，是指在某一区域内由多台计算机互联成的计算机组，使用广播信道。</span></p><ul><li><p><span>特点 1: 覆盖的地理范围较小，只在一个相对独立的局部范围内联，如一座或集中的建筑群内。</span></p></li><li><p><span>特点 2: 使用专门铺设的传输介质（双绞线、同轴电缆）进行联网，数据传输速率高（10Mb/s~10Gb/s）</span></p></li><li><p><span>特点 3: 通信延迟时间短，误码率低，可靠性较高。</span></p></li><li><p><span>特点 4: 各站为平等关系，共享传输信道。</span></p></li><li><p><span>特点 5: 多采用分布式控制和广播式通信，能进行广播和组播。</span></p><p><strong><span>决定局域网的主要要素为: 网络拓扑，传输介质与介质访问控制方法。</span></strong></p></li></ul><h4 id='1-拓扑结构'><span>1. 拓扑结构</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb6aaf144a01007b29a43" referrerpolicy="no-referrer"></p><h4 id='2-传输介质'><span>2. 传输介质</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb6a8f144a01007b2977f" referrerpolicy="no-referrer"></p><h4 id='3-介质访问控制方法'><span>3. 介质访问控制方法</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb6a7f144a01007b294f5" referrerpolicy="no-referrer"></p><h4 id='4mac-子层和-llc-子层'><span>4.MAC 子层和 LLC 子层</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb6a1f144a01007b28dc7" referrerpolicy="no-referrer"></p><h3 id='316-以太网'><span>3.16 以太网</span></h3><h4 id='1-概述'><span>1. 概述</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb69ef144a01007b289ef" referrerpolicy="no-referrer"></p><h4 id='2-提供无连接不可靠的服务'><span>2. 提供无连接，不可靠的服务</span></h4><ul><li><span>无连接: 发送方和接收方之间无 “握手过程”。</span></li><li><span>不可靠: 不对发送方的数据帧编号，接收方不向发送方进行确认，差错帧直接丢弃，差错纠正由高层负责</span></li><li><strong><span>以太网只实现无差错接收，不实现可靠传输。</span></strong></li></ul><h4 id='3-10base---t-以太网'><span>3. 10BASE—T 以太网</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb69cf144a01007b286ed" referrerpolicy="no-referrer"></p><h4 id='4-适配器与-mac-地址'><span>4. 适配器与 MAC 地址</span></h4><ul><li><strong><span>计算机与外界有局域网的连接是通过通信适配器的。</span></strong></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb698f144a01007b28169" referrerpolicy="no-referrer"></p><h4 id='5-mac-帧'><span>5. MAC 帧</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb698f144a01007b280bf" referrerpolicy="no-referrer"></p><h3 id='317-ppp-协议和-hdlc-协议'><span>3.17 PPP 协议和 HDLC 协议</span></h3><blockquote><p><span>在介绍这两个协议之前，先了解一下广域网。</span></p></blockquote><h4 id='1-广域网'><span>1. 广域网</span></h4><p><span>广域网（WAN，Wide Area Network)，通常跨接很大的物理范围，所覆盖的范围从几十公里到几千公里，它能连接多个城市或国家，或横跨几个洲并能提供远距离通信，形成国际性的远程网络。</span></p><p><span>广域网的通信子网主要使用</span><strong><span>分组交换技术</span></strong><span>。广域网的通信子网可以利用公用分组交换网、卫星通信网和无线分组交换网，它将分布在不同地区的局域网或计算机系统互连起来，达到</span><strong><span>资源共享</span></strong><span>的目的。如因特网（Internet) 是世界范围内最大的广域网。</span></p><p><strong><span>局域网强调信息传递，广域网强调资源共享。</span></strong></p><p><img src="https://pic2.imgdb.cn/item/63edb693f144a01007b27a47" referrerpolicy="no-referrer"></p><h4 id='2ppp-协议'><span>2.PPP 协议</span></h4><blockquote><p><span>特点</span></p></blockquote><p><span>点对点协议 PPP (Point-to-Point Protocol) 是目前使用最广泛的数据链路层协议，用户使用拨号电话接入因特网时一般都使用 PPP 协议。</span><br/><strong><span>只支持全双工链路。</span></strong></p><blockquote><p><span>满足的要求</span></p></blockquote><ul><li><span>简单 对于链路层的帧，无需纠错，无需序号，无需流量控制。</span></li><li><span>封装成帧 帧定界符</span></li><li><span>透明传输 与帧定界符一样比特组合的数据应该如何处理: 异步线路用字节填充，同步线路用比特填充。</span></li><li><span>多种网络层协议 封装的 IP 数据报可以采用多种协议。</span></li><li><span>多种类型链路 串行 / 并行，同步 / 异步，电 / 光…</span></li><li><span>差错检测 错就丢弃。</span></li><li><span>检测连接状态 链路是否正常工作。</span></li><li><span>最大传送单元 数据部分最大长度 MTU。</span></li><li><span>网络层地址协商 知道通信双方的网络层地址。</span></li><li><span>数据压缩协商</span></li></ul><blockquote><p><span>无需满足的要求</span></p></blockquote><ul><li><span>纠错</span></li><li><span>流量控制</span></li><li><span>序号</span></li><li><span>不支持多点线路</span></li></ul><blockquote><p><span>组成部分</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb68cf144a01007b27026" referrerpolicy="no-referrer"></p><blockquote><p><span>PPP 协议的状态图</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb687f144a01007b26981" referrerpolicy="no-referrer"></p><blockquote><p><span>PPP 协议的帧格式</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb684f144a01007b2652c" referrerpolicy="no-referrer"></p><h4 id='3hdlc-协议'><span>3.HDLC 协议</span></h4><blockquote><p><span>简介</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb680f144a01007b25f8d" referrerpolicy="no-referrer"></p><blockquote><p><span>HDLC 的站</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb67df144a01007b25ae0" referrerpolicy="no-referrer"></p><blockquote><p><span>帧格式</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb67af144a01007b256f6" referrerpolicy="no-referrer"></p><h4 id='4-两种协议对比'><span>4. 两种协议对比</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb677f144a01007b251cf" referrerpolicy="no-referrer"></p><h3 id='318-链路层设备'><span>3.18 链路层设备</span></h3><h4 id='1-网桥'><span>1. 网桥</span></h4><p><span style="background:#fff88f"><span>网桥根据 </span><strong><span>MAC 帧的目的地址</span></strong><span> 对帧进行 </span><strong><span>转发和过滤</span></strong></span><span>。当网桥收到一个帧时，并不向所有接口转发此帧，而是</span><span style="background:#fff88f"><span>先检查此帧的目的 MAC 地址，然后再确定将该帧转发到哪一个接口，或者是把它丢弃（即过滤）</span></span><span>。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb674f144a01007b24da6" referrerpolicy="no-referrer"></p><p><span>网桥分为</span><span style="background:#fff88f"><span>透明网桥和源路由网桥</span></span><span>。</span></p><ul><li><p><span>透明网桥：“透明” 指以太网上的站点并不知道所发送的帧将经过哪几个网桥，是一种即插即用设备（通过自学习算法来提高效率）。</span>
<img src="https://s2.loli.net/2023/04/13/xz2PABVmLRN1cgk.png" referrerpolicy="no-referrer">
<strong><span>自学习算法</span></strong><span>：当网桥刚连接到</span><a href='https://so.csdn.net/so/search?q=%E4%BB%A5%E5%A4%AA%E7%BD%91&amp;spm=1001.2101.3001.7020'><span>以太网</span></a><span>时，其</span><strong><span>转发表是空的</span></strong><span>，网桥按照自学习算法处理收到的帧。该算法的基本思想是</span></p><ol start='' ><li><span>若从站A发出的帧从某端口进入网桥，那么从这个端口出发沿相反方向一定可把一个帧传送到站A。所以网桥每收到一个帧，就记下其源地址和进入网桥的端口，作为转发表中的一个项目(源地址、进入的接口和时间)</span></li><li><span>在建立转发表时，把帧首部中的源地址写在“地址” 一栏的下面</span></li><li><span>在转发帧时，则根据收到的帧首部中的目的地址来转发。这时就把在“地址”栏下面已经记下的源地址当作目的地址，而把记下的进入端口当作转发端口</span>
<strong><span>网桥就是在这样的转发过程中逐渐将其转发表建立起来的，且转发表是动态变化的</span></strong></li></ol></li><li><p><span>源路由网桥：在发送帧时，把详细的最佳路由信息（路由最少 / 时间最短）放在帧的首部中。</span>
<span>如何发现最佳路由信息呢？</span></p><p><span>方法 : 源站以广播方式向欲通信的目的站发送一个发现帧。可能有好几个路径到达目的栈，发现帧会记录到达的时间，返回给源站，由此确定最佳路由信息。</span></p></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb670f144a01007b24802" referrerpolicy="no-referrer"></p><h4 id='2-以太网交换机'><span>2. 以太网交换机</span></h4><p><span style="background:#fff88f"><span>以太网交换机就是多端口的网桥</span></span><span>。现在基本上都在使用以太网交换机。</span><span style="background:#fff88f"><span>工作在数据链路层</span></span><span>。它可以经济地将网络分成小的冲突域，为每个工作站提供更高的带宽。其原理是：检测从以太端口来的数据帧的源和目的地的MAC(介质访问层)地址，然后与系统内部的动态查找表进行比较，若数据帧的MAC地址不在查找表中，则将该地址加入查找表，并将数据帧发送给相应的目的端口</span>
<img src="https://s2.loli.net/2023/04/13/y8bfKWeBjSzgs9Y.png" referrerpolicy="no-referrer"></p><p><span style="background:#fff88f"><span>以太网交换机的特点如下：</span></span></p><ul><li><span>以太网交换机的每个端口都直接与单台主机相连(普通网桥的端口往往连接到以太网的一个网段，并且一般都工作在全双工方式。</span></li><li><span>以太网交换机能</span><span style="background:#fff88f"><span>同时连通许多对端口</span></span><span>，使每对相互通信的主机都能像独占通信媒体那样，无碰撞地传输数据。</span></li><li><span>以太网交换机也是一种</span><span style="background:#fff88f"><span>即插即用设备(和透明网桥一样)</span></span><span>，其内部的帧的转发表也是通过自学习算法自动地逐渐建立起来的。</span></li><li><span>以太网交换机由于使用了专用的交换结构芯片，因此交换速率较高。</span></li><li><span>以太网交换机</span><span style="background:#fff88f"><span>独占传输媒体的带宽</span></span><span>。</span></li></ul><p><span>分为两类，生活中常用存储转发式交换机。</span>
<img src="https://pic2.imgdb.cn/item/63edb66df144a01007b2446b" referrerpolicy="no-referrer"></p><h4 id='3-冲突域和广播域'><span>3. 冲突域和广播域</span></h4><ul><li><span style="background:#d2cbff"><span>冲突域</span></span><span>: 在同一个冲突域中的每一个节点都能收到所有被发送的帧。简单的说就是同一时间内只能有一台设备发送信息的范围。</span></li><li><span style="background:#d2cbff"><span>广播域</span></span><span>: 网络中能接收任一设备发出的广播帧的所有设备的集合。简单的说如果站点发出一个广播信号，所有能接收收到这个信号的设备范围称为一个广播域。</span></li></ul><p><strong><span>重点</span></strong></p><p><img src="https://pic2.imgdb.cn/item/63edb669f144a01007b23de3" referrerpolicy="no-referrer"></p><h2 id='四网络层'><span>四、网络层</span></h2><hr /><h3 id='41-网络层功能概述'><span>4.1 网络层功能概述</span></h3><p><u><span>主要任务是把分组从源端传到目的端，为分组交换网上的不同主机提供通信服务</span></u><span>。</span><span style="background:#fff88f"><span>网络层传输单位是数据报</span></span><span>。</span></p><p><span>分组和数据报的关系：</span><span style="background:#fff88f"><span>把数据报进行切割之后，就是分组</span></span><span>。</span></p><p><span>功能一: 路由选择与分组转发（最佳路径）</span></p><p><span>功能二: 异构网络互联</span></p><p><span>功能三: 拥塞控制（若所有结点都来不及接受分组，而要丢弃大量分组的话，网络就处于拥塞状态。因此要采取一定措施，缓解这种拥塞。）</span></p><p><span>方法：开环控制（静态）闭环控制（动态）</span></p><h3 id='42-数据交换方式'><span>4.2 数据交换方式</span></h3><h4 id='1-电路交换'><span>1. 电路交换</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb665f144a01007b23765" referrerpolicy="no-referrer"></p><ul><li><span>优缺点</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb662f144a01007b231c4" referrerpolicy="no-referrer"></p><h4 id='2-报文交换'><span>2. 报文交换</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb65ef144a01007b22a9c" referrerpolicy="no-referrer"></p><ul><li><span>优缺点</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb65bf144a01007b2267a" referrerpolicy="no-referrer"></p><h4 id='3-分组交换'><span>3. 分组交换</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb656f144a01007b21ee8" referrerpolicy="no-referrer"></p><ul><li><span>优缺点</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb654f144a01007b21a97" referrerpolicy="no-referrer"></p><h4 id='4-报文交换和分组交换'><span>4. 报文交换和分组交换</span></h4><p><span>注：是怎么计算的？</span>
<span style="background:#d2cbff"><span>报文交换</span></span><span>：一共三段，每段都需要10000bit/1000bps=10s，三段就是3x10=30s</span>
<span style="background:#d2cbff"><span>分组交换</span></span><span>：可以分为两段，一个是第一个数据开始发到最后一个数据从源发出，一段是最后一个数据到达目的地。第一段总时间是10000bit/1000bps=10s，第二段总时间是（10/1000）</span><span>*</span><span> 2=0.02s，所以总时间是10.02s。</span>
<span>理解一下，这里就是报文交换的时候，由于报文没有分割，所以即使先到的数据也不能先发走，只能等到最后一段报文全部到了之后才能一起走，相对于分组交换明显拖慢了前面数据的速度，所以导致报文交换明显慢于分组交换</span>
<span style="background:#fff88f"><span>可以看到分组交换明显快于报文交换，所以我们通常使用分组交换</span></span></p><p><img src="https://s2.loli.net/2023/04/13/TAkRgVEomOtSUZw.png" referrerpolicy="no-referrer"></p><h4 id='5-三种方式对比'><span>5. 三种方式对比</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb650f144a01007b215f8" referrerpolicy="no-referrer"></p><h4 id='6-传输单元名词辨析重要-lucalerttriangle'><span>6. 传输单元名词辨析(重要) :luc_alert_triangle:</span></h4><ul><li><span>应用层——&gt; 报文</span></li><li><span>传输层——&gt; 报文段</span></li><li><span>网络层——&gt; IP 数据报，分组（ip数据报过大会拆分，拆分后就是分组）</span></li><li><span>数据链路层——&gt; 帧</span></li><li><span>物理层——&gt; 比特流</span></li></ul><h4 id='7-分组传输的两种传输方式数据报和虚电路'><span>7. 分组传输的两种传输方式：数据报和虚电路</span></h4><blockquote><p><span>数据报</span></p></blockquote><ul><li><p><span style="background:#d2cbff"><span>数据报方式</span></span><span>为网络层提供</span><strong><span>无连接服务</span></strong><span>。</span></p><p><span>无连接服务: </span><span style="background:#fff88f"><span>不事先为分组的传输确定传输路径，每个分组独立确定。传输路径，不同分组传输路径可能不同</span></span><span>。</span>
<img src="https://pic2.imgdb.cn/item/63edb64cf144a01007b21032" referrerpolicy="no-referrer"></p></li></ul><blockquote><p><span>虚电路</span></p></blockquote><ul><li><p><span style="background:#d2cbff"><span>虚电路方式</span></span><span>为网络层提供</span><strong><span>连接服务</span></strong><span>。</span></p><p><span>连接服务: </span><span style="background:#fff88f"><span>首先为分组的传输确定传输路径（建立连接），然后沿该路径（连接）传输系列分组，系列分组传输路径相同，传输结束后拆除连接</span></span><span>。</span>
<img src="https://pic2.imgdb.cn/item/63edb649f144a01007b20a79" referrerpolicy="no-referrer"></p></li></ul><blockquote><p><span>对比</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb647f144a01007b205cd" referrerpolicy="no-referrer"></p><p><img src="https://s2.loli.net/2023/04/13/Jc3KBvNOHkL46Uu.png" referrerpolicy="no-referrer"></p><h3 id='43-ip-数据报格式'><span>4.3 IP 数据报格式</span></h3><p><img src="https://pic2.imgdb.cn/item/63edb641f144a01007b1fe7b" referrerpolicy="no-referrer">
<span>注：固定部分的长度是固定不变的20B。</span></p><ul><li><span>详细图解 (中间的标识，标志，偏移量在下一小节中进行讲解)</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb63df144a01007b1f97e" referrerpolicy="no-referrer"></p><figure><table><thead><tr><th><span>名称</span></th><th><span>注释</span></th><th><span>大小</span></th></tr></thead><tbody><tr><td><span>版本 Version</span></td><td><span>ipv4或者ipv6</span></td><td><span>4位</span></td></tr><tr><td><span>首部长度 IHL</span></td><td><span>此处数值再乘以4才是真正大小，同时因为IP数据报固定长度为20字节，所以此处最小值为5，即二进制的0101</span></td><td><span>4位</span></td></tr><tr><td><span>区分服务 DSCP + ECN</span></td><td><span>希望获得哪种服务，用的比较少</span></td><td><span>8位</span></td></tr><tr><td><span>总长度 Total Length</span></td><td><span>首部+数据的长度，最大为2^16-1=65535</span></td><td><span>16位</span></td></tr><tr><td><span>标识 Identification</span></td><td><span>用来表示是哪一个数据报的分片，不同的分片标识各不相同</span></td><td><span>8位</span></td></tr><tr><td><span>标志 Flags</span></td><td><span>用来表示是否分片和分片是否结束</span></td><td><span>3位，但实际有用的只有后两位</span></td></tr><tr><td><span>片偏移 Fragment Offset</span></td><td><span>用来标记分片之后，该分片在原来的数据报的位置，以8字节为单位</span></td><td><span>13位</span></td></tr><tr><td><span>生存时间 Time To Live</span></td><td><span>即TTL，没经过一个路由器TTL-1 ,0时自动放弃，根据系统不同默认的TTL不同</span></td><td><span>8位</span></td></tr><tr><td><span>协议 Protocol</span></td><td><span>用来标记协议名的字段值，如TCP,UDP,ICMP等等</span></td><td><span>8位</span></td></tr><tr><td><span>首部检验和 Header Checksum</span></td><td><span>检验首部的字段是否出错，出错就丢弃此数据报</span></td><td>&nbsp;</td></tr><tr><td><span>源地址 Source IP Address</span></td><td><span>发送方ip地址(ipv4)</span></td><td><span>32位</span></td></tr><tr><td><span>目的地址 Destination IP Address</span></td><td><span>接收方ip地址(ipv4)</span></td><td><span>32位</span></td></tr><tr><td><span>可选字段 Options</span></td><td><span>用来排错等安全检测</span></td><td><span>未知，可在0-40位之间</span></td></tr><tr><td><span>填充</span></td><td><span>将数据报对齐成4字节的整数倍，数值全部为0</span></td><td><span>未知，根据可选字段来定</span></td></tr></tbody></table></figure><h3 id='44-ip-数据报分片'><span>4.4 IP 数据报分片</span></h3><p><img src="https://pic2.imgdb.cn/item/63edb639f144a01007b1f459" referrerpolicy="no-referrer"></p><ul><li><span>中间三个的含义</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb636f144a01007b1ef99" referrerpolicy="no-referrer"></p><ul><li><span>下面通过一个例题来加深理解。</span></li></ul><p><span>主要看偏移量。</span></p><p><span>数据部分的第一个字节位置为 0。所以数据报片 1 的偏移量为 0。 数据报片 2 起始地址为 1400B。 </span><span style="background:#fff88f"><span>偏移量单位为 8B</span></span><span>, 所以偏移量为 1400/8=175。 数据报片 3 同理。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb633f144a01007b1eb35" referrerpolicy="no-referrer"></p><h3 id='45-分类的-ipv4-地址很重要'><span>4.5 分类的 IPv4 地址(很重要)</span></h3><ul><li><span>一个路由器有多个 IP 地址，每一个端口都有一个 IP 地址</span></li><li><span>IP 地址由网络号和主机号组成。</span></li><li><span>为了人类方便识别，我们经常使用点分十进制来表示 IP 地址。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb62ff144a01007b1e5f7" referrerpolicy="no-referrer"></p><blockquote><p><span>IP 地址的分类 ⭐</span></p></blockquote><ul><li><span>根据网络号所占字节的多少，将 IP 地址分为 5 类。之所以会减一，减二，是因为含有一些特殊的 IP 地址。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb62bf144a01007b1df6d" referrerpolicy="no-referrer"></p><ul><li><span>其中包含一些特殊的 IP 地址，如图所示。</span></li></ul><figure><table><thead><tr><th><strong><span>NetID网络号</span></strong></th><th><strong><span>HostID主机号</span></strong></th><th><strong><span>作为IP分组源地址</span></strong></th><th><strong><span>作为IP分组目的地址</span></strong></th><th><strong><span>用途</span></strong></th></tr></thead><tbody><tr><td><strong><span>全0</span></strong></td><td><span>全0</span></td><td><span>可以</span></td><td><span>不可</span></td><td><span>本网范围内表示主机，路由表中表示默认路由(表示整个internet网络)</span></td></tr><tr><td><strong><span>全0</span></strong></td><td><span>特定值</span></td><td><span>不可</span></td><td><span>可以</span></td><td><span>表示本网内某个特定主机</span></td></tr><tr><td><strong><span>全1</span></strong></td><td><span>全1</span></td><td><span>不可</span></td><td><span>可以</span></td><td><span>本网广播地址，只在本网络上进行广播（各路由器均不转发）</span></td></tr><tr><td><span>特定值</span></td><td><span>全0</span></td><td><span>不可</span></td><td><span>不可</span></td><td><span>网络地址，表示一个网络</span></td></tr><tr><td><span>特定值</span></td><td><span>全1</span></td><td><span>不可</span></td><td><span>可以</span></td><td><span>直接广播地址，对特定网络上的所有主机进行广播</span></td></tr><tr><td><strong><span>127</span></strong></td><td><span>非全0或全1</span></td><td><span>可以</span></td><td><span>可以</span></td><td><span>用于本地软件环回测试，称为环回地址</span></td></tr></tbody></table></figure><p><img src="https://pic2.imgdb.cn/item/63edb627f144a01007b1d9af" referrerpolicy="no-referrer"></p><ul><li><span>私有 IP 地址（网段个数就是网络号的个数）</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb622f144a01007b1d339" referrerpolicy="no-referrer"></p><h3 id='46-网络地址转换-nat很重要'><span>4.6 网络地址转换 NAT(很重要)</span></h3><p><span>因为普通的路由器不能将局域网里的数据发送到因特网。所以需要 NAT 来实现它。</span></p><p><strong><span>网络地址转换 NAT</span></strong><span>(Network Address Translation) : 在专用网连接到因特网的路由器上安装 NAT 软件，</span><u><span>安装了 NAT 软件的路由器叫 NAT 路由器</span></u><span>，它至少有一个有效的外部全球 IP 地址。</span></p><blockquote><p><span>实现原理</span></p></blockquote><ul><li><span>里边含有一张 </span><span style="background:#fff88f"><span>NAT 转换表</span></span><span>，包含局域网里边的主机和因特网里边的一个 IP 地址。</span><span style="background:#fff88f"><span>局域网里边的主机请求数据时 会进行 IP 地址转换</span></span><span>，以此来获取数据。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb61ff144a01007b1cec4" referrerpolicy="no-referrer"></p><h3 id='47-子网划分与子网掩码很重要'><span>4.7 子网划分与子网掩码(很重要)</span></h3><blockquote><p><span>分类的 IP 地址的弱点</span></p></blockquote><ol start='' ><li><span>IP 地址空间的利用率有时很低。</span></li><li><span>两级 IP 地址不够灵活。</span></li></ol><blockquote><p><span>子网划分</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb61bf144a01007b1c8fb" referrerpolicy="no-referrer"></p><p><img src="https://s2.loli.net/2023/04/13/4PXoa3kuVbFQyv9.png" referrerpolicy="no-referrer"></p><blockquote><p><span>子网掩码</span></p></blockquote><p><span style="background:#fff88f"><span>子网掩码与 IP 地址逐位相与</span></span><span>，就得到子网网络地址。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb617f144a01007b1c39d" referrerpolicy="no-referrer"></p><p><span>常用子网掩码中的数字对应的二进制：</span></p><figure><table><thead><tr><th><span>10000000</span></th><th><span>128</span></th></tr></thead><tbody><tr><td><span>11000000</span></td><td><span>192</span></td></tr><tr><td><span>11100000</span></td><td><span>224</span></td></tr><tr><td><span>11110000</span></td><td><span>240</span></td></tr><tr><td><span>11111000</span></td><td><span>248</span></td></tr><tr><td><span>11111100</span></td><td><span>252</span></td></tr><tr><td><span>11111110</span></td><td><span>254</span></td></tr><tr><td><span>11111111</span></td><td><span>255</span></td></tr></tbody></table></figure><blockquote><p><span>使用子网分组时的转发</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb614f144a01007b1beac" referrerpolicy="no-referrer"></p><p><strong><span>解释</span></strong></p><ol start='' ><li><span>提取目的 IP 地址与路由表中的子网掩码进行与运算，如果找到，直接交付。没有找到，进行第三步。</span></li><li><span>路由表中有一行是特定主机路由，查看目的 IP 的地址是否等于主机路由，等于交付。不等于进行第四步。</span></li><li><span>目的 IP 地址与路由表中的每一个子网掩码进行与运算，有则交付。没有进入第五步。</span></li><li><span>跳转到另一个路由，重复上述步骤。</span></li></ol><h3 id='48-无分类变址-cidr很重要'><span>4.8 无分类变址 CIDR(很重要)</span></h3><p><img src="https://pic2.imgdb.cn/item/63edb611f144a01007b1b880" referrerpolicy="no-referrer"></p><blockquote><p><span>分类IPv4地址存在的问题</span></p></blockquote><p><span>划分子网在一定程度上缓解了因特网在发展中遇到的困难，但是数量巨大的C类网因为其地址空间太小并没有得到充分使用，而</span><u><span>因特网的IP地址仍在加速消耗，整个IPv4地址空间面临全部耗尽的威胁</span></u><span>。为此，</span><span style="background:#fff88f"><span>采用无分类编址的方法来解决IP地址紧张的问题</span></span><span>。</span></p><blockquote><p><span>无分类域间路由选择（CIDR）</span></p></blockquote><p><span>无分类域间路由选择（CIDR）：</span><span style="background:#fff88f"><span>CIDR消除了传统的A类、B类和C类地址，以及划分子网的概念</span></span><span>;</span><br/><span>CIDR使用“</span><span style="background:#fff88f"><span>斜线记法</span></span><span>”，或称CIDR记法。即在IPv4地址后面加上斜线“/”，在</span><span style="background:#fff88f"><span>斜线后面写上网络前缀所占的比特数量</span></span><span>。</span></p><p><img src="https://img-blog.csdnimg.cn/a16267166f144b4ebf2b7cddc9ca752b.png" referrerpolicy="no-referrer"></p><p><span>CIDR实际上是</span><span style="background:#fff88f"><span>将网络前缀都相同的连续的IP地址组成一个&quot;CIDR地址块”</span></span><span>。我们只要知道CIDR地址块中的任何一个地址，就可以知道该地址块的全部细节</span></p><ul><li><span>地址块的</span><strong><span>最小地址</span></strong></li><li><span>地址块的</span><strong><span>最大地址</span></strong></li><li><span>地址块中的</span><strong><span>地址数量</span></strong></li><li><span>地址块聚合</span><strong><span>某类网络(A类、B类或C类) 的数量</span></strong></li><li><strong><span>地址掩码</span></strong></li></ul><blockquote><p><span>例子</span></p></blockquote><p><strong><span>请给出CIDR地址块</span><code>128.14.35.7/20</code><span>的全部细节(最小地址，最大地址，地址数量，聚合C类网数量，地址掩码)</span></strong></p><ul><li><code>/</code><span>后面的20的表明该IPv4地址的前20个比特位为网络前缀，也就是说，所给地址左起第一个字节、第二个字节和第三个字节的前4个比特构成20比特的网络前缀，剩余12个比特的主机号</span></li><li><span>因此，我们需要将该地址的第三个字节和第四个字节转换成二进制的形式</span></li><li><span>将20比特的网络前缀保持不变，12比特的主机号全部取0，就可以得到该地址块的最小地址，即</span><code>129.14.32.0</code></li><li><span>将20比特的网络前缀保持不变，12比特的主机号全部取1，就可以得到该地址块的最大地址，即</span><code>128.14.47.255</code></li></ul><p><img src="https://img-blog.csdnimg.cn/ff88a95cf68545589341ce46b9c1d9ec.png" referrerpolicy="no-referrer"></p><p><strong><span>该地址块中的地址数量为</span></strong><span>    </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="5.763ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 2547.3 833.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-11-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-11-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-11-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path id="MJX-11-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-11-TEX-N-32"></use></g><g data-mml-node="TeXAtom" transform="translate(533,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="33" xlink:href="#MJX-11-TEX-N-33"></use><use data-c="32" xlink:href="#MJX-11-TEX-N-32" transform="translate(500,0)"></use></g><g data-mml-node="mo" transform="translate(1000,0)"><use data-c="2212" xlink:href="#MJX-11-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(1778,0)"><use data-c="32" xlink:href="#MJX-11-TEX-N-32"></use><use data-c="30" xlink:href="#MJX-11-TEX-N-30" transform="translate(500,0)"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow data-mjx-texclass="ORD"><mn>32</mn><mo>−</mo><mn>20</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">2^{32-20}</script></p><p><strong><span>聚合C类网的数量用该地址块中的地址数量除以一个C类网的地址数量，即</span></strong><span>   </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="5.071ex" height="3.079ex" role="img" focusable="false" viewBox="0 -983.7 2241.2 1361" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.854ex;"><defs><path id="MJX-12-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-12-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-12-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path id="MJX-12-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-12-TEX-N-38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msup" transform="translate(220,394) scale(0.707)"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-12-TEX-N-32"></use></g><g data-mml-node="TeXAtom" transform="translate(533,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="33" xlink:href="#MJX-12-TEX-N-33"></use><use data-c="32" xlink:href="#MJX-12-TEX-N-32" transform="translate(500,0)"></use></g><g data-mml-node="mo" transform="translate(1000,0)"><use data-c="2212" xlink:href="#MJX-12-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(1778,0)"><use data-c="32" xlink:href="#MJX-12-TEX-N-32"></use><use data-c="30" xlink:href="#MJX-12-TEX-N-30" transform="translate(500,0)"></use></g></g></g><g data-mml-node="msup" transform="translate(789.5,-377.4) scale(0.707)"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-12-TEX-N-32"></use></g><g data-mml-node="TeXAtom" transform="translate(533,289) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="38" xlink:href="#MJX-12-TEX-N-38"></use></g></g></g><rect width="2001.2" height="60" x="120" y="220"></rect></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><msup><mn>2</mn><mrow data-mjx-texclass="ORD"><mn>32</mn><mo>−</mo><mn>20</mn></mrow></msup><msup><mn>2</mn><mrow data-mjx-texclass="ORD"><mn>8</mn></mrow></msup></mfrac></math></mjx-assistive-mml></mjx-container><script type="math/tex">\frac{2^{32-20}}{2^{8}}</script></p><p><strong><span>地址掩码为20个连续的比特1和12个连续的比特0，即</span><code>255.255.240.0</code></strong></p><blockquote><p><span>构成超网(路由聚合)</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb60ef144a01007b1b4f6" referrerpolicy="no-referrer"></p><p><span>路由聚合：如下图所示，路由器R1与五个网络以及路由器R2直接相连，路由器R1和R2互为相邻的路由器，它们周期性的通告自己所知道的路由信息给对方。如果R1将5条路由记录直接告诉给R2，那么路由器R2的路由表就会多出5条记录来，这未免显得有些多余。所以我们</span><span style="background:#fff88f"><span>可以找出这些地址的共同前缀进行聚合，构造超网</span></span><span>。</span></p><ul><li><span>网络前缀越长，地址块越小，路由越具体</span></li><li><span>若路由器查表转发分组时发现有多条路由可选，则</span><span style="background:#fff88f"><span>选择网络前缀最长的那条，这称为最长前缀匹配</span></span><span>，因为这样的路由更具体</span>
<img src="https://s2.loli.net/2023/04/13/UDXRCsoz5bH3N1L.png" referrerpolicy="no-referrer"></li></ul><ul><li><span>通过习题来练习一下</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb60bf144a01007b1aea2" referrerpolicy="no-referrer"></p><p><span>前 24 位为网络前缀，后 8 位又进行了子网划分。通过子网掩码来确定子网掩码的位数。258 转换为二进制为 11111000。 子网位数为 5，最大子网个数为 2^5 =32, 分配地址个数 为 2^3 -2=6。 (减 2 是因为不能全为 0 或全为 1)。</span></p><h3 id='49-arp-协议'><span>4.9 ARP 协议</span></h3><p><span>由于在实际网络的链路上传送数据帧时，最终必须使用 MAC 地址，如图所示。因此我们需要一种协议来获取 MAC 地址。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb607f144a01007b1a9a3" referrerpolicy="no-referrer"></p><p><strong><span>ARP 协议</span></strong><span> : 完成主机或路由器 IP 地址到 MAC 地址的映射。</span></p><ul><li><span>ARP 协议使用过程:</span></li></ul><p><span>检查 ARP 高速缓存，有对应表项则写入 MAC 帧，没有则用目的 MAC 地址为 FF-FF-FF-FF-FF-FF 的帧封装并广播 ARP 请求分组，同一局域网中所有主机都能收到该请求。目的主机收到请求后就会向源主机单播一个 ARP 响应分组，源主机收到后将此映射写入 ARP 缓存 (10-20min 更新一次）。</span></p><ul><li><p><span>ARP 协议 4 种典型情况:</span></p><ol start='' ><li><span>主机 A 发给本网络上的主机 B: 用 ARP 找到主机 B 的硬件地址;</span></li><li><span>主机 A 发给另一网络上的主机 B: 用 ARP 找到本网络上一个路由器（网关）的硬件地址;</span></li><li><span>路由器发给本网络的主机 A: 用 ARP 找到主机 A 的硬件地址;</span></li><li><span>路由器发给另一网络的主机 B: 用 ARP 找到本网络上的一个路由器的硬件地址。</span></li></ol></li><li><p><span>具体过程如图所示</span></p></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb603f144a01007b1a3df" referrerpolicy="no-referrer"></p><h3 id='410-dhcp-协议'><span>4.10 DHCP 协议</span></h3><p><span>主机可以静态和动态的获取 IP 地址。静态是管理员事先分配好主机的 IP 地址，子网掩码，默认网关等。动态则是依靠 DHCP 协议来完成的。接下来介绍一下 DHCP 协议。</span></p><p><span>动态主机配置协议（DHCP）是</span><strong><span>应用层协议</span></strong><span>，使用</span><strong><span>客户 / 服务器</span></strong><span>方式，客户端和服务端通过</span><strong><span>广播方式</span></strong><span>进行交互，基于 UDP。DHCP 提供即插即用联网的机制，主机可以从服务器动态获取 IP 地址、子网掩码、默认网关、DNS 服务器名称与 IP 地址, 允许</span><strong><span>地址重用</span></strong><span>，支持</span><strong><span>移动用户加入网络</span></strong><span>，支持</span><strong><span>在用 地址续租</span></strong><span>。</span></p><blockquote><p><span>使用过程</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb5fff144a01007b19e81" referrerpolicy="no-referrer"></p><h3 id='411-icmp-协议'><span>4.11 ICMP 协议</span></h3><blockquote><p><span>作用</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb5fbf144a01007b19783" referrerpolicy="no-referrer"></p><p><span>从图中可以看出 ICMP 和传输层紧密相连。因此它的作用就是</span><strong><span>为了更有效地转发 IP 数据报和提高交付成功的机会。</span></strong></p><blockquote><p><span>构成</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb5f8f144a01007b193db" referrerpolicy="no-referrer"></p><ul><li><span>从图中可以看出 ICMP 报文分为差错报文和询问报文。</span></li></ul><blockquote><p><span>差错报文</span></p></blockquote><ol start='' ><li><span>终点不可达: 当路由器或主机不能交付数据报时就向源点发送终点不可达报文。（</span><strong><span>无法交付</span></strong><span>）</span></li><li><span>时间超过: 当路由器收到生存时间 TTL=0 的数据报时，除丢弃该数据报外，还要向源点发送时间超过报文。当终点在预先规定的时间内不能收到一个数据报的全部数据报片时，就把已收到的数据报片都丢弃，并向源点发送时间超过报文。（</span><strong><span>TTL=0</span></strong><span>）</span></li><li><span>参数问题: 当路由器或目的主机收到的数据报的首部中有的字段的值不正确时，就丢弃该数据报，并向源点发</span><br/><span>送参数问题报文。（</span><strong><span>首部字段有问题</span></strong><span>）</span></li><li><span>改变路由（重定向)︰路由器把改变路由报文发送给主机，让主机知道下次应将数据报发送给另外的路由器 (可通过更好的路由）。（</span><strong><span>有更好的路由</span></strong><span>）</span></li></ol><blockquote><p><span>差错报文构成</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb5f4f144a01007b18d10" referrerpolicy="no-referrer"></p><blockquote><p><span>不发送 ICMP 报文的情况</span></p></blockquote><ol start='' ><li><span>对 ICMP 差错报告报文不再发送 ICMP 差错报告报文。</span></li><li><span>对第一个分片的数据报片的所有后续数据报片都不发送 ICMP 差错报告报文。</span></li><li><span>对具有组播地址的数据报都不发送 ICMP 差错报告报文。</span></li><li><span>对具有特殊地址（如 127.0.0.0 或 0.0.0.0）的数据报不发送 ICMP 差错报告报文。</span></li></ol><blockquote><p><span>ICMP 询问报文</span></p></blockquote><ol start='' ><li><p><span>回送请求和回答报文</span></p><p><span>主机或路由器向特定目的主机发出的询问，收到此报文的主机必须给源主机或路由器发送 ICMP 回送回答报文。(</span><strong><span>测试目的站是否可达以及了解其相关状态</span></strong><span>)</span></p></li><li><p><span>时间戳请求和回答报文</span></p><p><span>请某个主机或路由器回答当前的日期和时间。(</span><strong><span>用来进行时钟同步和测量时间</span></strong><span>)</span></p></li></ol><blockquote><p><span>ICMP 的应用</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb5eff144a01007b184e3" referrerpolicy="no-referrer"></p><h3 id='412-ipv6-数据报'><span>4.12 IPv6 数据报</span></h3><ul><li><span>IPv6 从根本上解决了 IPv4 地址不够用的问题。</span></li></ul><p><span>添加的功能：</span></p><ol start='' ><li><span>快速处理 / 转发数据报</span></li><li><span>支持 QoS（Qos (Quality of Service，服务质量）指一个网络能够利用各种基础技术，</span><strong><span>为指定的网络通信提供更好的服务能力</span></strong><span>, 是网络的一种安全机制，是用来解决网络延迟和阻塞等问题的一种技术。）</span></li></ol><h4 id='1-数据报格式'><span>1. 数据报格式</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb5e7f144a01007b17730" referrerpolicy="no-referrer"></p><ul><li><span>详细的数据报格式</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb5e4f144a01007b172c6" referrerpolicy="no-referrer"></p><h4 id='2-ipv4-和-ipv6-的区别'><span>2. IPv4 和 IPv6 的区别</span></h4><ol start='' ><li><span>IPv6 将地址从 32 位（4B）扩大到 128 位（16B），更大的地址空间。</span></li><li><span>IPv6 将 IPv4 的校验和字段彻底移除，以减少每跳的处理时间。</span></li><li><span>lPv6 将 IPv4 的可选字段移出首部，变成了扩展首部，成为灵活的首部格式，路由器通常不对扩展首部进行检查，大大提高了路由器的处理效率。</span></li><li><span>IPv6 支持即插即用（即自动配置），不需要 DHCP 协议。</span></li><li><span>IPv6 首部长度必须是 8B 的整数倍，IPv4 首部是 4B 的整数倍。</span></li><li><span>IPv6 只能在主机处分片，IPv4 可以在路由器和主机处分片。</span></li><li><span>ICMPv6: 附加报文类型 “分组过大”。</span></li><li><span>IPv6 支持资源的预分配，支持实时视像等要求，保证一定的带宽和时延的应用。</span></li><li><span>IPv6 取消了协议字段，改成下一个首部字段。</span></li><li><span>IPv6 取消了总长度字段，改用有效载荷长度字段。</span></li><li><span>IPv6 取消了服务类型字段。</span></li></ol><h4 id='3ipv6-的表示形式'><span>3.IPv6 的表示形式</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb5dff144a01007b16bcd" referrerpolicy="no-referrer"></p><h4 id='4-ipv6-向-ipv4-过度策略'><span>4. IPv6 向 IPv4 过度策略</span></h4><blockquote><p><span>双栈协议</span></p></blockquote><p><strong><span>双协议栈技术就是指在一台设备上同时启用 lPv4 协议栈和 IPv6 协议栈。</span></strong><span> 这样的话，这台设备既能和 IPv4 网络通信，又能和 IPv6 网络通信。如果这台设备是一个路由器，那么这台路由器的不同接口上，分别配置了 IPv4 地址和 IPv6 地址，并很可能分别连接了 IPv4 网络和 IPv6 网络。</span><span style="background:#fff88f"><span>如果这台设备是一个计算机，那么它将同时拥有 IPv4 地址和 IPv6 地址，并具备同时处理这两个协议地址的功能</span></span><span>。</span></p><blockquote><p><span>隧道技术</span></p></blockquote><p><span>通过使用互联网络的基础设施在网络之间传递数据的方式。使用隧道传递的数据（或负载) 可以是不同协议的数据帧或包。</span><strong><span>隧道协议将其它协议的数据帧或包重新封装然后通过隧道发送。</span></strong><span>  意思就是</span><span style="background:#fff88f"><span>将 IPv6 作为 IPv4 的数据部分进行封装一个ipv4的头部，继续传输，到时候解封装</span></span><span>。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb5dcf144a01007b166ba" referrerpolicy="no-referrer"></p><h3 id='413-路由算法与路由协议概述'><span>4.13 路由算法与路由协议概述</span></h3><h4 id='1-作用'><span>1. 作用</span></h4><ul><li><span>每一个路由里边都有一张路由表。表的结构如下图所示。由路由算法来填写表中内容，找出最佳路径。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb5d8f144a01007b161f4" referrerpolicy="no-referrer"></p><h4 id='2-分类'><span>2. 分类</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb5d6f144a01007b15e99" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63edb5d1f144a01007b157ed" referrerpolicy="no-referrer"></p><h4 id='3-分层次的路由选择协议'><span>3. 分层次的路由选择协议</span></h4><blockquote><p><span>出现原因</span></p></blockquote><p><span>(1）因特网规模很大</span><br/><span>(2）许多单位不想让外界知道自己的路由选择协议，但还想连入因特网</span></p><blockquote><p><span>解决办法</span></p></blockquote><p><strong><span>自治系统 AS</span></strong><span>: 在单一的技术管理下的一组路由器，而这些路由器使用一种 AS 内部的路由选择协议和共同的度量以确定分组在该 AS 内的路由，同时还使用一种 AS 之间的路由协议以确定在 AS 之间的路由。</span></p><p><strong><span>一个 AS 内的所有网络都属于一个行政单位来管辖，一个自治系统的所有路由器在本自治系统内都必须连通。</span></strong></p><h3 id='414-rip-协议距离向量算法）'><span>4.14 RIP 协议（距离向量算法）</span></h3><p><span>RIP 是一种分布式的基于距离向量的路由选择协议，是因特网的协议标准，</span><strong><span>最大优点是简单</span></strong><span>。</span></p><p><span>RIP 协议</span><span style="background:#fff88f"><span>要求网络中每一个路由器都维护从它自己到其他每一个目的网络的唯一最佳距离记录 (即一组距离）</span></span><span>。距离: 通常为 “跳数”，即从源端口到目的端口所经过的路由器个数，经过一个路由器跳数 + 1。特别的，从一路由器到直接连接的网络距离为 1。RIP 允许一条路由最多只能包含 15 个路由器，因此距离为 16 表示网络不可达。</span></p><p><strong><span>RIP 的特点</span></strong><span>: 当网络出现故障时，要经过比较长的时间 (例如数分钟) 才能将此信息传送到所有的路由器，“慢收敛”。</span></p><p><strong><span>RIP 协议只适用于小型互联网。</span></strong></p><p><img src="https://pic2.imgdb.cn/item/63edb5cbf144a01007b14f88" referrerpolicy="no-referrer"></p><ul><li><span>路由表如何更新？</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb5c7f144a01007b1498a" referrerpolicy="no-referrer"></p><ul><li><span>通过例题来加深理解</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb5c4f144a01007b14403" referrerpolicy="no-referrer"></p><h3 id='415-ospf-协议链路状态算法）'><span>4.15 OSPF 协议（链路状态算法）</span></h3><p><span>开放最短路径优先 OSPF 协议 :“开放” 标明 OSPF 协议不是受某一家厂商控制，而是公开发表的 ; “最短路径优先” 是因为使用了 Dijkstra 提出的最短路径算法 SPF。</span></p><p><span>OSPF 最主要的特征就是</span><strong><span>使用分布式的链路状态协议</span></strong><span>。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb5c2f144a01007b141ef" referrerpolicy="no-referrer"></p><blockquote><p><span>链路状态路由算法</span></p></blockquote><ol start='' ><li><p><span>每个路由器发现它的邻居结点【HELLO 问候分组】，并了解邻居节点的网络地址。</span></p></li><li><p><span>设置到它的每个邻居的成本度量 metric。</span></p></li><li><p><span>构造【DD 数据库描述分组】，向邻站给出自己的链路状态数据库中的所有链路状态项目的摘要信息。</span></p></li><li><p><span>如果 DD 分组中的摘要自己都有，则邻站不做处理; 如果有没有的或者是更新的，则发送【LSR 链路状态请求分组】请求自己没有的和比自己更新的信息。</span></p></li><li><p><span>收到邻站的 LSR 分组后，发送【LSu 链路状态更新分组】进行更新。</span></p></li><li><p><span>更新完毕后，邻站返回一个【LSAck 链路状态确认分组】进行确认。</span></p><p><span>只要一个路由器的链路状态发生变化:</span></p><ol start='' ><li><span>泛洪发送【LSu 链路状态更新分组】进行更新。</span></li><li><span>更新完毕后，其他站返回一个【LSAck 链路状态确认分组】进行确认。</span></li><li><span>使用 Dijkstra 根据自己的链路状态数据库构造到其他节点间的最短路径。</span></li></ol></li></ol><blockquote><p><span>其他特点</span></p></blockquote><ol start='' ><li><span>OSPF 直接用 </span><strong><span>IP 数据报</span></strong><span>传送。</span></li><li><span>每隔 30min，要刷新一次数据库中的链路状态。</span></li><li><span>由于一个路由器的链路状态只涉及到与相邻路由器的连通状态，因而与整个互联网的规模并无直接关系。因此当互联网规模很大时，</span><strong><span>OSPF 协议要比距离向量协议 RIP 好得多。</span></strong></li><li><span>OSPF 不存在坏消息传的慢的问题，它的收敛速度很快。</span></li></ol><h3 id='416-bgp-协议'><span>4.16 BGP 协议</span></h3><p><span>自治系统之间的使用的协议就是 BGP 协议。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb5bdf144a01007b13abf" referrerpolicy="no-referrer"></p><ul><li><span>和谁交换？</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb5baf144a01007b13620" referrerpolicy="no-referrer"></p><blockquote><p><span>交换信息的过程</span></p></blockquote><p><span>BGP 所交换的网络可达性的信息就是要</span><strong><span>到达某个网络所要经过的一系列 AS</span></strong><span>。当 BGP 发言人互相交换了网络可达性的信息后，各 BGP 发言人就根据所采用的策略从收到的路由信息中找出到达各 AS 的较好路由。如图所示。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb5b6f144a01007b13103" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63edb5b3f144a01007b12cab" referrerpolicy="no-referrer"></p><blockquote><p><span>特点</span></p></blockquote><ul><li><span>BGP 支持 </span><strong><span>CIDR</span></strong><span>，因此 BGP 的路由表也就应当包括目的网络前缀、下一跳路由器，以及到达该目的网络所要经过的各个自治系统序列。</span></li><li><span>在 BGP 刚刚运行时，BGP 的邻站是交换整个的 BGP 路由表。但以后只需要</span><strong><span>在发生变化时更新有变化的部分</span></strong><span>。这样做对节省网络带宽和减少路由器的处理开销都有好处。</span></li></ul><blockquote><p><span>BGP 报文类型</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb5b1f144a01007b128bd" referrerpolicy="no-referrer"></p><h3 id='417-三种协议比较'><span>4.17 三种协议比较</span></h3><ul><li><span>RIP 是一种分布式的基于</span><strong><span>距离向量</span></strong><span>的内部网关路由选择协议，通过广播 UDP 报文来交换路由信息。</span></li><li><span>OSPF 是一个内部网关协议，要交换的信息量较大，应使报文的长度尽量短，所以不使用传输层协议（如 UDP 或 TCP)，而是直接采用 IP。</span></li><li><span>BGP 是一个外部网关协议，在不同的自治系统之间交换路由信息，由于网络环境复杂，需要保证可靠传输所以采用 TCP。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb5adf144a01007b1233d" referrerpolicy="no-referrer"></p><h3 id='418-ip-组播'><span>4.18 IP 组播</span></h3><h4 id='1-ip-数据报的三种传送方式'><span>1. IP 数据报的三种传送方式</span></h4><ul><li><span>单播： 一对一</span></li><li><span>广播： 一对多（多指的所有）</span></li><li><span>组播： 一对多（多指的特定主机）</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb5aaf144a01007b11eda" referrerpolicy="no-referrer"></p><h4 id='2-ip-组播地址'><span>2. IP 组播地址</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb5a8f144a01007b11aaf" referrerpolicy="no-referrer"></p><h4 id='3-硬件组播'><span>3. 硬件组播</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb5a5f144a01007b116b4" referrerpolicy="no-referrer"></p><h4 id='4-igmp-协议和组播路由选择协议'><span>4. IGMP 协议和组播路由选择协议</span></h4><ul><li><span>IGMP 协议让路由器知道本局域网上是否有主机 (的进程) 参加或退出了某个组播组。</span></li></ul><blockquote><p><span>IGMP 工作阶段</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb5a1f144a01007b10ecd" referrerpolicy="no-referrer"></p><ul><li><span>组播路由选择协议目的是找出以源主机为根节点的组播转发树。</span></li><li><span>构造树可以避免在路由器之间兜圈子。</span></li><li><span>对不同的多播组对应于不同的多播转发树; 同一个多播组，对不同的源点也会有不同的多播转发树。</span></li></ul><blockquote><p><span>组播路由选择的算法</span></p></blockquote><ul><li><span>感兴趣的小伙伴可以去了解一下，这里不做过多讲解。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb59cf144a01007b104d6" referrerpolicy="no-referrer"></p><h3 id='419-移动-ip'><span>4.19 移动 IP</span></h3><h4 id='1-移动-ip-的相关术语'><span>1. 移动 IP 的相关术语</span></h4><p><span>移动 IP 技术是移动结点 (计算机 / 服务器等) 以固定的网络 IP 地址，实现跨越不同网段的漫游功能，并保证了基于网络 IP 的网络权限在漫游过程中不发生任何改变。</span></p><ul><li><span>移动结点 具有永久 IP 地址的移动设备。</span></li><li><span>归属代理（本地代理) 一个移动结点拥有的就 “居所” 称为归属网络，在归属网络中代表移动节点执行移动管理功能的实体叫做归属代理。</span></li><li><span>外部代理（外地代理）在外部网络中帮助移动节点完成移动管理功能的实体称为外部代理。</span></li><li><span>永久地址（归属地址 / 主地址) 移动站点在归属网络中的原始地址。</span></li><li><span>转交地址（辅地址) 移动站点在外部网络使用的临时地址。</span></li></ul><h4 id='2-通信过程'><span>2. 通信过程</span></h4><ul><li><span>A 进入外部网络</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb596f144a01007b0fd96" referrerpolicy="no-referrer"></p><ul><li><span>A 进入下一个外部网络或者回到了归属网络</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb594f144a01007b0fa29" referrerpolicy="no-referrer"></p><h3 id='420-网络层设备'><span>4.20 网络层设备</span></h3><p><span>网络层设备主要是路由器。</span></p><p><span>路由器是一种具有多个输入端口和多个输出端口的专用计算机，其任务是</span><strong><span>转发分组</span></strong><span>。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb590f144a01007b0f56f" referrerpolicy="no-referrer"></p><blockquote><p><span>输入端口对线路上收到的分组的处理</span></p></blockquote><ul><li><span>输入端口中的查找和转发功能在路由器的交换功能中是最重要的。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb58ef144a01007b0f23a" referrerpolicy="no-referrer"></p><blockquote><p><span>输出端口将交换结构传送来的分组发送到线路</span></p></blockquote><ul><li><span>若路由器处理分组的速率赶不上分组进入队列的速率，则队列的存储空间最终必定减少到零，这就使后面再进入队列的分组由于没有存储空间而只能被丢弃。</span></li><li><span>路由器中的输入或输出队列产生溢出是造成分组丢失的重要原因。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb58bf144a01007b0edd6" referrerpolicy="no-referrer"></p><blockquote><p><span>三层设备的区别</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb588f144a01007b0e9ca" referrerpolicy="no-referrer"></p><blockquote><p><span>路由表与路由转发</span></p></blockquote><ul><li><span>路由表根据路由选择算法得出的，主要用途是</span><strong><span>路由选择</span></strong><span>，总用软件来实现。结构如下图所示。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb585f144a01007b0e61f" referrerpolicy="no-referrer"></p><p><span>转发表由路由表得来，可以用软件实现，也可以用特殊的硬件来实现。</span><strong><span>转发表必须包含完成转发功能所必需的信息</span></strong><span>，在转发表的每一行必须包含从要到达的目的网络到输出端口和某些 MAC 地址信息的映射。</span></p><h2 id='五传输层'><span>五、传输层</span></h2><hr /><h3 id='51-概述'><span>5.1 概述</span></h3><ul><li><p><span>传输层是</span><strong><span>主机</span></strong><span>才有的层次。</span></p></li><li><p><span>它使用网络层提供的服务为应用层提供服务。</span></p></li><li><p><span>功能：</span></p><ol start='' ><li><span>提供进程与进程之间的通信。</span></li><li><span>复用和分用（后边会详细解释的）</span></li><li><span>对收到的报文进行差错检测。</span></li></ol></li></ul><blockquote><p><span>传输层最重要的两个协议——TCP 和 UDP。</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb582f144a01007b0e1e1" referrerpolicy="no-referrer"></p><blockquote><p><span>寻址和端口</span></p></blockquote><ul><li><span>复用: 应用层所有的应用进程都可以通过传输层再传输到网络层。</span></li><li><span>分用: 传输层从网络层收到数据后交付指明的应用进程。</span></li><li><span>逻辑端口 / 软件端口 : 端口是传输层的 SAP，</span><strong><span>标识主机中的应用进程</span></strong><span>。</span></li><li><span>端口号只有本地意义，在因特网中不同计算机的相同端口是没有联系的。</span></li><li><span>端口号长度为 16bit，能表示 65536 个不同的端口号。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb580f144a01007b0dfd8" referrerpolicy="no-referrer"></p><ul><li><span>几个常用的端口号</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb57ef144a01007b0dcf0" referrerpolicy="no-referrer"></p><h3 id='52-udp-协议'><span>5.2 UDP 协议</span></h3><ul><li><span>UDP 在 IP 数据报服务之上添加了复用分用和差错检测的功能。</span></li></ul><blockquote><p><span>主要特点</span></p></blockquote><ol start='' ><li><span>UDP 是</span><strong><span>无连接</span></strong><span>的，减少开销和发送数据之前的时延</span></li><li><span>UDP 使用最大努力交付，即</span><strong><span>不保证可靠交付</span></strong><span>。</span></li><li><span>UDP 是</span><strong><span>面向报文</span></strong><span>的，适合一次性传输少量数据的网络应用。</span></li><li><span>UDP 无拥塞控制，适合很多实时应用。</span></li><li><span>UDP 首部开销小，8B，TCP 20B。</span></li></ol><p><img src="https://pic2.imgdb.cn/item/63edb57af144a01007b0d870" referrerpolicy="no-referrer"></p><blockquote><p><span>UDP 的首部格式</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb577f144a01007b0d3d7" referrerpolicy="no-referrer"></p><blockquote><p><span>UDP 校验</span></p></blockquote><ul><li><span>这部分我暂时也咩看懂，所以不做太多解释。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb573f144a01007b0cf52" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63edb571f144a01007b0cb8a" referrerpolicy="no-referrer"></p><h3 id='53-tcp-协议'><span>5.3 TCP 协议</span></h3><h4 id='1tcp-协议的特点'><span>1.TCP 协议的特点</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb56cf144a01007b0c5d8" referrerpolicy="no-referrer"></p><ul><li><span>字节流发送如图所示</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb569f144a01007b0c14b" referrerpolicy="no-referrer"></p><h4 id='2-tcp-报文段首部格式'><span>2. TCP 报文段首部格式</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb566f144a01007b0bc0a" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63edb563f144a01007b0b684" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63edb55ef144a01007b0af23" referrerpolicy="no-referrer"></p><h3 id='54-tcp-连接管理'><span>5.4 TCP 连接管理</span></h3><p><img src="https://pic2.imgdb.cn/item/63edb55cf144a01007b0aaf6" referrerpolicy="no-referrer"></p><h4 id='1-建立连接'><span>1. 建立连接</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb559f144a01007b0a4c0" referrerpolicy="no-referrer"></p><p><span>假设运行在一台主机（客户) 上的一个进程想与另一台主机（服务器) 上的一个进程建立一条连接，客户应用进程首先通知客户 TCP，他想建立一个与服务器上某个进程之间的连接，客户中的 TCP 会用以下步骤与服务器中的 TCP 建立一条 TCP 连接:</span></p><ul><li><span>SYN 连接请求报文</span></li><li><span>seq 序号</span></li><li><span>ACK 确认连接</span></li><li><span>ack 确认号</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb556f144a01007b0a1e4" referrerpolicy="no-referrer"></p><h4 id='2-释放连接'><span>2. 释放连接</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb553f144a01007b09d6d" referrerpolicy="no-referrer"></p><p><span>参与一条 TCP 连接的两个进程中的任何一个都能终止该连接，连接结束后，主机中的 “资源”(缓存和变量）将被释放。</span><br/><img src="https://pic2.imgdb.cn/item/63edb54ef144a01007b095fd" referrerpolicy="no-referrer"></p><h3 id='55-tcp-可靠传输'><span>5.5 TCP 可靠传输</span></h3><p><img src="https://pic2.imgdb.cn/item/63edb549f144a01007b08e5b" referrerpolicy="no-referrer"></p><p><span>可靠传输： 保证接收方进程从缓存区读出的字节流与发送方发出的字节流是完全一样的。</span></p><blockquote><p><span>TCP 协议实现可靠传输的机制</span></p></blockquote><ol start='' ><li><span>校验（与 UDP 校验一样，增加伪首部）</span></li><li><span>序号</span></li><li><span>确认</span></li><li><span>重传</span></li></ol><h3 id='56-tcp-流量控制'><span>5.6 TCP 流量控制</span></h3><ul><li><span>流量控制: 让发送方慢点，要让接收方来得及接收。</span></li><li><span>TCP 利用</span><strong><span>滑动窗口机制</span></strong><span>实现流量控制。</span></li></ul><p><span>在通信过程中，接收方根据自己接收缓存的大小，动态地调整发送方的发送窗口大小，即接收窗口 rwnd(接收方设置确认报文段的窗口字段来将 rwnd 通知给发送方），发送方的发送窗口取接收窗口 rwnd 和拥塞窗口 cwnd 的最小值。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb547f144a01007b08a1b" referrerpolicy="no-referrer"></p><h3 id='57-tcp-拥塞控制'><span>5.7 TCP 拥塞控制</span></h3><ul><li><span>出现拥塞的条件</span><br/><span>对资源需求的总和 &gt; 可用资源</span></li><li><span>网络中有许多资源同时呈现供应不足→网络性能变坏→网络吞吐量将随输入负荷增大而下降</span></li><li><span>拥塞控制</span><br/><span>防止过多的数据注入到网络中。</span><strong><span>全局性</span></strong></li></ul><blockquote><p><span>拥塞控制和流量控制的区别</span></p></blockquote><p><span>拥塞控制是全局性的。</span></p><p><span>流量控制是点对点的。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb540f144a01007b081e4" referrerpolicy="no-referrer"></p><ul><li><span>在介绍拥塞控制算法之前，先设定几个前提条件，便于理解。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb53cf144a01007b07a8f" referrerpolicy="no-referrer"></p><h4 id='1-慢开始和拥塞避免'><span>1. 慢开始和拥塞避免</span></h4><ul><li><span>刚开始进行指数增长，到达 ssthresh 之后，进行加法增长。</span></li><li><span>遇到网络拥塞之后，降到初始值，重复之前的步骤。新的 ssthresh 设为 拥塞时窗口大小的一半。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb538f144a01007b0753e" referrerpolicy="no-referrer"></p><h4 id='2-快重传和快回复'><span>2. 快重传和快回复</span></h4><ul><li><span>前面的步骤和之前一样。不同的是降低拥塞窗口的时机和大小不同。如图所示，当收到 3 个重复的确认时，执行快重传算法，拥塞窗口降到原来的一般。</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb535f144a01007b06e0b" referrerpolicy="no-referrer"></p><h2 id='六应用层'><span>六、应用层</span></h2><hr /><h3 id='61-概述'><span>6.1 概述</span></h3><ul><li><p><span>应用层对应用程序的通信提供服务。</span></p></li><li><p><span>应用层协议定义:</span></p><ol start='' ><li><span>应用进程交换的报文类型，请求还是响应?</span></li><li><span>各种报文类型的语法，如报文中的各个字段及其详细描述。</span></li><li><span>字段的语义，即包含在字段中的信息的含义。</span></li><li><span>进程何时、如何发送报文，以及对报文进行响应的规则。</span></li></ol></li></ul><figure><table><thead><tr><th><span>应用层的功能</span></th><th><span>对应的协议</span></th></tr></thead><tbody><tr><td><span>文件传输，访问和管理</span></td><td><span>FTP</span></td></tr><tr><td><span>电子邮件</span></td><td><span>SMTP，POP3</span></td></tr><tr><td><span>虚拟终端</span></td><td><span>HTTP</span></td></tr><tr><td><span>查询服务和远程作业登录</span></td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='62-网络应用模型'><span>6.2 网络应用模型</span></h3><h4 id='1-客户--服务器cs）模型'><span>1. 客户 / 服务器（C/S）模型</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb52ff144a01007b066dd" referrerpolicy="no-referrer"></p><h4 id='2-p2p-模型'><span>2. P2P 模型</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb52cf144a01007b0622a" referrerpolicy="no-referrer"></p><h3 id='63-dns-系统'><span>6.3 DNS 系统</span></h3><p><span>DNS 服务的作用 : 将域名解析成 IP 地址。</span></p><h4 id='1-域名'><span>1. 域名</span></h4><ul><li><span>com 有一个点，就是 根</span></li></ul><p><img src="https://pic2.imgdb.cn/item/63edb528f144a01007b05b47" referrerpolicy="no-referrer"></p><h4 id='2dns-服务器'><span>2.DNS 服务器</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb525f144a01007b0558d" referrerpolicy="no-referrer"></p><h4 id='3-域名解析过程'><span>3. 域名解析过程</span></h4><p><span>域名解析主要有两种方法： ①递归（考别人）②迭代（靠自己）</span></p><p><img src="https://pic2.imgdb.cn/item/63edb521f144a01007b04f81" referrerpolicy="no-referrer"></p><h3 id='64-文件传输协议-ftp'><span>6.4 文件传输协议 FTP</span></h3><ul><li><p><span>文件传送协议 FTP (File Transfer Protocol) 提供不同种类主机系统（硬、软件体系等都可以不同) 之间的文件传输能力。</span></p></li><li><p><span>FTP 是基于客户 / 服务器 (C/S）的协议。</span></p></li><li><p><span>用户通过一个客户机程序连接至在远程计算机上运行的服务器程序。</span></p></li><li><p><span>依照 FTP 协议提供服务，进行文件传送的计算机就是 FTP 服务器。</span></p></li><li><p><span>连接 FTP 服务器，遵循 FTP 协议与服务器传送文件的电脑就是 FTP 客户端。</span></p></li><li><p><span>FTP 传输模式</span></p><ol start='' ><li><span>文本模式: ASCIl 模式，以文本序列传输数据;</span></li><li><span>二进制模式: Binary 模式，以二进制序列传输数据。</span></li></ol></li></ul><blockquote><p><span>工作原理</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb517f144a01007b03e5d" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63edb513f144a01007b03790" referrerpolicy="no-referrer"></p><h3 id='65-电子邮件'><span>6.5 电子邮件</span></h3><h4 id='1-信息格式'><span>1. 信息格式</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb50ef144a01007b03093" referrerpolicy="no-referrer"></p><h4 id='2-组成结构'><span>2. 组成结构</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb509f144a01007b02975" referrerpolicy="no-referrer"></p><h4 id='3smap-协议'><span>3.SMAP 协议</span></h4><ul><li><span>SMTP 规定了在两个相互通信的 SMTP 进程之间应如何交换信息。</span></li><li><span>负责发送邮件的 SMTP 进程就是 SMTP 客户，负责接收邮件的进程就是 SMTP 服务器。</span></li><li><span>SMTP 规定了 14 条命令 (几个字母）和 21 种应答信息（三位数字代码 + 简单文字说明）。</span></li></ul><blockquote><p><span>SMAP 通信的三个阶段</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb504f144a01007b01e44" referrerpolicy="no-referrer"></p><h4 id='4-mime'><span>4. MIME</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb4fff144a01007b0163f" referrerpolicy="no-referrer"></p><h4 id='5-邮局协议-pop3'><span>5. 邮局协议 POP3</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb4fbf144a01007b01004" referrerpolicy="no-referrer"></p><h4 id='6-国际报文存取协议-imap'><span>6. 国际报文存取协议 IMAP</span></h4><ul><li><span>IMAP 协议比 POP 协议复杂。当用户 PC 上的 IMAP 客户程序打开 IMAP 服务器的邮箱时，用户可以看到邮箱的首部，若用户需要打开某个邮件，该邮件才上传到用户的计算机上。</span></li><li><span>IMAP 可以让用户在不同的地方使用不同的计算机随时上网阅读处理邮件，还允许只读取邮件中的某一个部分 (先看正文，有 WiFi 的时候再下载附件）。</span></li></ul><h4 id='7-基于万维网的电子协议'><span>7. 基于万维网的电子协议</span></h4><p><img src="https://pic2.imgdb.cn/item/63edb4f6f144a01007b0065f" referrerpolicy="no-referrer"></p><h3 id='66-万维网和-http-协议'><span>6.6 万维网和 HTTP 协议</span></h3><h4 id='1-万维网概述'><span>1. 万维网概述</span></h4><p><span>万维网 www (World Wide web）是一个大规模的、联机式的信息储藏所 / 资料空间，是无数个网络站点和网页的集合。</span></p><p><span>我们需要一个统一标识符（URL）来区分万维网上的各种资源。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb4f1f144a01007b0004b" referrerpolicy="no-referrer"></p><p><span>用户通过点击超链接 (http:/</span><a href='http://www.baidu.com' target='_blank' class='url'>www.baidu.com</a><span>) 获取资源，这些资源通过超文本传输协议 HTTP 传送给使用者。</span></p><p><span>万维网以</span><strong><span>客户 / 服务器</span></strong><span>方式工作，用户使用的浏览器就是万维网客户程序，万维网文档所驻留的主机运行服务器程序。</span></p><p><span>万维网使用超文本标记语言 HTML，使得万维网页面设计者可以很方便地从一个界面的链接转到另一个界面，并能够在自己的屏幕上显示出来。</span></p><h4 id='2http'><span>2.HTTP</span></h4><p><span>HTTP 协议定义了浏览器（万维网客户进程〉怎样向万维网服务器请求万维网文档，以及服务器怎样把文档传送给浏览器。</span></p><p><img src="https://pic2.imgdb.cn/item/63edb4edf144a01007affad3" referrerpolicy="no-referrer"></p><blockquote><p><span>HTTP 协议的特点</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb4e7f144a01007aff4a7" referrerpolicy="no-referrer"></p><blockquote><p><span>报文结构</span></p></blockquote><p><img src="https://pic2.imgdb.cn/item/63edb4e3f144a01007afede3" referrerpolicy="no-referrer"></p><p><img src="https://pic2.imgdb.cn/item/63edb4def144a01007afe73d" referrerpolicy="no-referrer"></p></div></div>
</body>
</html>